import{E as Q}from"./base.a4c7cecc.js";import{E as W}from"./dialog.828e041f.js";/* empty css                */import{E as X}from"./card.37bc6fbf.js";import{E as e1,a as t1,b as o1,c as l1,z as a1,g as n1,d as s1,e as i1}from"./zh-cn.00619e4c.js";/* empty css              *//* empty css            *//* empty css               *//* empty css                  *//* empty css               */import{E as r1,a as d1}from"./checkbox.c36725d4.js";import"./tooltip.f118fcb0.js";/* empty css                */import{_ as p1}from"./SvgIcon.26213fd5.js";/* empty css                     */import{E as c1,a as m1}from"./form-item.15e42d00.js";/* empty css               */import{o as v,c as y,b as s,z as _,B as _1,I as u1,p as e,l as a,q as f1,F as g1,Y as h1,k as v1,t as g,j as d,a as k,s as w1,x as y1}from"./index.e2144cf2.js";import k1 from"./basic-setting.f09eb126.js";import{aS as b1,V as S}from"./index.8d3be363.js";import{l as x1}from"./admin-storage.0cee6b67.js";import{t as C1}from"./vue3-clipboard.esm-bundler.34366eba.js";import{l as E1}from"./admin-setting.5f735b40.js";import{b as D}from"./route-block.89f12ae7.js";import{_ as V1}from"./plugin-vue_export-helper.21dcd24c.js";import{E as z1,a as S1}from"./index.0866a0f5.js";import{E as D1}from"./index.f710691a.js";import{E as h}from"./request.538cacc7.js";import{E as $1}from"./index.911dd79c.js";import{E as L1}from"./index.b76f3ddb.js";import"./index.d27b8c90.js";import"./scroll.2d8cca42.js";import"./use-dialog.e8f8c3c7.js";import"./event.776e7e11.js";import"./index.4971e309.js";import"./focus-trap.3717ddd7.js";import"./refs.1f25664c.js";import"./dayjs.min.94cd9439.js";import"./index.893d9621.js";import"./index.7fa0be7b.js";import"./event.3ec63147.js";import"./debounce.ef6045fb.js";import"./index.fa9b58ef.js";import"./isEqual.f1560033.js";import"./index.5cf4e3bb.js";/* empty css                */import"./ZFormItem.99bc3a03.js";import"./radio.055628e3.js";/* empty css               */import"./useLinkSetting.aa2b065a.js";import"./index.c45a91e5.js";import"./validator.e67486a3.js";import"./directive.a214ca06.js";import"./index.fc5d6137.js";const T1={t:"1654510398523",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3907","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"200",height:"200"},I1=s("defs",null,null,-1),B1=s("path",{d:"M511.998 1023.988c-71.133166 0-129.004488-57.871322-129.004488-129.002488v-8.793897a393.981383 393.981383 0 0 1-44.34948-18.399784l-6.241927 6.239926c-24.283715 24.287715-56.677336 37.665559-91.216931 37.665559s-66.933216-13.377843-91.222931-37.665559c-50.293411-50.299411-50.293411-132.140451 0-182.441862l6.239927-6.235926a394.031382 394.031382 0 0 1-18.397785-44.349481h-8.793897C57.875322 641.002488 0.004 583.129166 0.004 511.996s57.873322-129.004488 129.004488-129.004488h8.789897a393.827385 393.827385 0 0 1 18.399785-44.34948l-6.239927-6.239927c-50.293411-50.299411-50.293411-132.140451 0-182.439862 24.289715-24.289715 56.683336-37.667559 91.222931-37.667559s66.933216 13.377843 91.218931 37.667559l6.239927 6.235927a393.981383 393.981383 0 0 1 44.34948-18.399785v-8.789897c0-71.133166 57.873322-129.004488 129.004488-129.004488s129.004488 57.873322 129.004488 129.004488V137.798385a394.727374 394.727374 0 0 1 44.349481 18.399785l6.239926-6.239927c24.287715-24.287715 56.681336-37.665559 91.218931-37.665559s66.933216 13.377843 91.222931 37.665559c50.293411 50.299411 50.293411 132.140451 0 182.441862-11.501865 11.501865-30.155647 11.501865-41.665511 0-11.503865-11.503865-11.503865-30.155647 0-41.661512 27.32368-27.32768 27.32368-71.791159 0-99.118839-13.159846-13.161846-30.75964-20.409761-49.55742-20.40976s-36.395573 7.247915-49.555419 20.40976l-21.547747 21.547748a29.449655 29.449655 0 0 1-35.243587 4.859943 334.960075 334.960075 0 0 0-72.911146-30.249646 29.457655 29.457655 0 0 1-21.469748-28.355667V129.010488c0-38.645547-31.439632-70.085179-70.085179-70.085179s-70.085179 31.439632-70.085179 70.085179v30.423644a29.461655 29.461655 0 0 1-21.469748 28.355667 335.000074 335.000074 0 0 0-72.911146 30.249646 29.459655 29.459655 0 0 1-35.243587-4.859943l-21.547747-21.547748c-13.159846-13.161846-30.75564-20.409761-49.555419-20.409761s-36.397573 7.247915-49.55742 20.409761c-27.32368 27.32368-27.32368 71.787159 0 99.118839l21.547748 21.543747a29.455655 29.455655 0 0 1 4.859943 35.243587 334.836076 334.836076 0 0 0-30.249646 72.911146 29.453655 29.453655 0 0 1-28.355667 21.469748H129.008488c-38.645547 0-70.085179 31.439632-70.085179 70.085179s31.439632 70.085179 70.085179 70.085179h30.423644a29.459655 29.459655 0 0 1 28.355667 21.467748 335.156072 335.156072 0 0 0 30.249646 72.913146 29.461655 29.461655 0 0 1-4.863943 35.243587l-21.547748 21.543747c-27.32168 27.32368-27.32168 71.787159 0.002 99.114839 13.159846 13.161846 30.75964 20.409761 49.55742 20.40976s36.395573-7.247915 49.555419-20.40976l21.549747-21.543748a29.457655 29.457655 0 0 1 35.237587-4.863943 335.180072 335.180072 0 0 0 72.913146 30.249646 29.457655 29.457655 0 0 1 21.469748 28.355667v30.425644c0 38.643547 31.439632 70.083179 70.085179 70.083178s70.085179-31.439632 70.085179-70.083178V864.569868a29.461655 29.461655 0 0 1 21.469748-28.355667 335.138073 335.138073 0 0 0 72.913146-30.249646 29.459655 29.459655 0 0 1 35.237587 4.863943l21.547747 21.543748c13.161846 13.161846 30.75964 20.409761 49.557419 20.40976s36.397573-7.247915 49.55742-20.40976c27.32368-27.32368 27.32368-71.789159 0-99.118839l-21.543748-21.543747a29.455655 29.455655 0 0 1-4.863943-35.243587 335.156072 335.156072 0 0 0 30.249646-72.913146 29.459655 29.459655 0 0 1 28.355667-21.467748h30.423644c38.645547 0 70.085179-31.439632 70.085179-70.085179 0-19.269774-8.171904-37.939555-22.419738-51.2194-11.903861-11.09387-12.561853-29.733652-1.467982-41.635512 11.09387-11.901861 29.739651-12.555853 41.635512-1.467983C1008.984176 442.06082 1023.992 476.438417 1023.992 512c0 71.133166-57.873322 129.004488-129.004488 129.004488H886.193615a394.777374 394.777374 0 0 1-18.397784 44.349481l6.235926 6.235926c50.297411 50.299411 50.297411 132.140451 0.002 182.439862-24.289715 24.289715-56.683336 37.667559-91.222931 37.667559s-66.933216-13.377843-91.220931-37.667559l-6.239926-6.235926a393.239392 393.239392 0 0 1-44.349481 18.399784v8.793897C641.002488 966.120678 583.129166 1023.988 511.998 1023.988z",fill:"#2D527C","p-id":"3908"},null,-1),F1=s("path",{d:"M511.99 511.988m-235.149244 0a235.149244 235.149244 0 1 0 470.298488 0 235.149244 235.149244 0 1 0-470.298488 0Z",fill:"#CEE8FA","p-id":"3909"},null,-1),M1=s("path",{d:"M511.998 776.614899c-145.91029 0-264.614899-118.706609-264.614899-264.614899S366.08771 247.381101 511.998 247.381101s264.614899 118.708609 264.614899 264.618899S657.90829 776.614899 511.998 776.614899z m0-470.316488c-113.420671 0-205.69559 92.274919-205.695589 205.697589 0 113.420671 92.274919 205.69559 205.695589 205.69559s205.69559-92.274919 205.69559-205.69559c0-113.422671-92.274919-205.697589-205.69559-205.697589z",fill:"#2D527C","p-id":"3910"},null,-1),R1=[I1,B1,F1,M1];function U1(p,u){return v(),y("svg",T1,R1)}var K1={name:"custom-settings",render:U1};const j1=p=>(w1("data-v-8343d574"),p=p(),y1(),p),P1={class:"zfile-admin-down-link"},Y1={class:"flex justify-between"},H1=j1(()=>s("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," \u76F4\u94FE\u7BA1\u7406 ",-1)),N1={class:"flex space-x-1.5 justify-center items-center cursor-pointer"},q1={class:"mt-4"},A1={class:"flex justify-between space-x-20"},O1={class:"text-gray-400"},Z1=k("\u67E5\u8BE2"),G1=k("\u6279\u91CF\u5220\u9664"),J1={class:"space-x-2"},Q1=k("\u5220\u9664"),$={__name:"index",setup(p){const u=_(!1),L=()=>{u.value=!0},o=_1({storageId:null,page:1,limit:10,key:"",url:"",date:"",dateFrom:"",dateTo:"",total:0}),T=l=>{o.limit=l,o.page=1,i()},I=l=>{o.page=l,i()},b=_(),i=()=>{o.date instanceof Array?(o.dateFrom=o.date[0],o.dateTo=o.date[1]):(o.dateFrom="",o.dateTo=""),n1(o).then(l=>{b.value=l.data,o.total=l.dataCount})};u1(()=>{i(),B(),M()});const x=_(),B=()=>{x1().then(l=>{x.value=l.data})},F=l=>{s1(l).then(n=>{h.success("\u5220\u9664\u6210\u529F"),i()})},C=_(),M=()=>{E1().then(l=>{C.value=l.data})},E=_(),R=()=>{let l=E.value.getSelectionRows();if(l.length===0){h.warning("\u8BF7\u81F3\u5C11\u9009\u62E9\u4E00\u6761\u6570\u636E");return}$1.confirm("\u662F\u5426\u786E\u8BA4\u5220\u9664\uFF1F","\u63D0\u793A",{type:"warning"}).then(()=>{let n=l.map(f=>f.id);i1({ids:n}).then(f=>{h.success("\u5220\u9664\u6210\u529F"),i()})})};let U=l=>{C1(l).then(()=>{h.success("\u590D\u5236\u6210\u529F")})},K=l=>{window.open(`${C.value.domain}/s/${l}`)};return(l,n)=>{const f=K1,j=z1,P=S1,c=c1,V=D1,Y=e1,w=Q,H=m1,r=r1,N=L1,z=p1,q=t1,A=d1,O=o1,Z=l1,G=X,J=W;return v(),y("div",P1,[e(G,null,{default:a(()=>[s("div",Y1,[H1,s("div",N1,[s("span",{onClick:L},[e(f,{class:"text-xl"})])])]),s("div",q1,[e(H,{inline:"",modelValue:o,"onUpdate:modelValue":n[4]||(n[4]=t=>f1(o)?o.value=t:null)},{default:a(()=>[e(c,{label:"\u5B58\u50A8\u6E90"},{default:a(()=>[e(P,{clearable:"",teleported:!1,modelValue:o.storageId,"onUpdate:modelValue":n[0]||(n[0]=t=>o.storageId=t)},{default:a(()=>[(v(!0),y(g1,null,h1(x.value,t=>(v(),v1(j,{key:t.id,label:t.name,value:t.id},{default:a(()=>[s("div",A1,[s("span",null,g(t.name),1),s("span",O1,g(t.type.description),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"\u6587\u4EF6\u540D"},{default:a(()=>[e(V,{modelValue:o.url,"onUpdate:modelValue":n[1]||(n[1]=t=>o.url=t)},null,8,["modelValue"])]),_:1}),e(c,{label:"\u77ED\u94FE Key"},{default:a(()=>[e(V,{modelValue:o.key,"onUpdate:modelValue":n[2]||(n[2]=t=>o.key=t)},null,8,["modelValue"])]),_:1}),e(c,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:a(()=>[e(Y,{modelValue:o.date,"onUpdate:modelValue":n[3]||(n[3]=t=>o.date=t),type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","default-time":[new Date(2e3,1,1,0,0,0),new Date(2e3,2,1,23,59,59)],"range-separator":"\u81F3","start-placeholder":"\u5F00\u59CB\u65F6\u95F4","end-placeholder":"\u7ED3\u675F\u65F6\u95F4"},null,8,["modelValue","default-time"])]),_:1}),e(c,null,{default:a(()=>[e(w,{type:"primary",icon:d(b1),onClick:i},{default:a(()=>[Z1]),_:1},8,["icon"])]),_:1})]),_:1},8,["modelValue"]),s("div",null,[e(w,{onClick:R,icon:d(S),type:"danger"},{default:a(()=>[G1]),_:1},8,["icon"])]),e(A,{ref_key:"linkTableRef",ref:E,size:"large",data:b.value},{default:a(()=>[e(r,{type:"selection",width:"55"}),e(r,{width:"120",label:"\u5B58\u50A8\u6E90\u540D\u79F0"},{default:a(t=>{var m;return[e(N,{content:(m=t.row.storageType)==null?void 0:m.description,placement:"right"},{default:a(()=>[s("span",null,g(t.row.storageName),1)]),_:2},1032,["content"])]}),_:1}),e(r,{width:"150",prop:"shortKey",label:"\u77ED\u94FE Key"},{default:a(t=>[s("div",J1,[s("span",null,g(t.row.shortKey),1),e(z,{onClick:m=>d(U)(t.row.shortKey),class:"inline cursor-pointer",name:"copy"},null,8,["onClick"]),e(z,{onClick:m=>d(K)(t.row.shortKey),class:"inline cursor-pointer text-blue-500 text-sm",name:"target"},null,8,["onClick"])])]),_:1}),e(r,{"show-tooltip-when-overflow":"",prop:"url",label:"\u8DEF\u5F84"}),e(r,{width:"180",prop:"createDate",label:"\u521B\u5EFA\u65F6\u95F4"}),e(r,{width:"120",label:"\u64CD\u4F5C"},{default:a(t=>[e(q,{title:"\u662F\u5426\u786E\u8BA4\u5220\u9664?",onConfirm:m=>F(t.row.id)},{reference:a(()=>[e(w,{icon:d(S),type:"danger"},{default:a(()=>[Q1]),_:1},8,["icon"])]),_:2},1032,["onConfirm"])]),_:1})]),_:1},8,["data"]),e(Z,{locale:d(a1)},{default:a(()=>[e(O,{class:"mt-3","page-size":o.limit,background:"",layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:I,onSizeChange:T,"current-page":o.page,"onUpdate:current-page":n[5]||(n[5]=t=>o.page=t),"default-current-page":10,"page-sizes":[10,50,100,200,1e3,99999999],total:o.total},null,8,["page-size","current-page","total"])]),_:1},8,["locale"])])]),_:1}),e(J,{modelValue:u.value,"onUpdate:modelValue":n[6]||(n[6]=t=>u.value=t),"destroy-on-close":!0,title:"\u76F4\u94FE\u8BBE\u7F6E","custom-class":"zfile-admin-down-link-dialog",draggable:"",top:"5vh",width:"80%"},{default:a(()=>[e(k1)]),_:1},8,["modelValue"])])}}};typeof D=="function"&&D($);var We=V1($,[["__scopeId","data-v-8343d574"]]);export{We as default};
