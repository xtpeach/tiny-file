!function(){function e(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e=function(){return t};var t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(_){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),l=new O(r||[]);return a(i,"_invoke",{value:S(e,n,l)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(_){return{type:"throw",arg:_}}}t.wrap=s;var d={};function p(){}function h(){}function v(){}var g={};c(g,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(T([])));b&&b!==n&&r.call(b,i)&&(g=b);var w=v.prototype=p.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,l){var u=f(e[a],e,o);if("throw"!==u.type){var c=u.arg,s=c.value;return s&&"object"==y(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(s).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}})}function S(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=C(i,n);if(l){if(l===d)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function C(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=f(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,d;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=v,a(w,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:h,configurable:!0}),h.displayName=c(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(k.prototype),c(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new k(s(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(w),c(w,u,"Generator"),c(w,i,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;A(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function t(e,n,r){return t=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&h(a,n.prototype),a},t.apply(null,arguments)}function n(e,t,n,r,a,o,i){try{var l=e[o](i),u=l.value}catch(c){return void n(c)}l.done?t(u):Promise.resolve(u).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function l(e){n(i,a,o,l,u,"next",e)}function u(e){n(i,a,o,l,u,"throw",e)}l(void 0)}))}}function a(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(s){c=!0,a=s}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function f(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function v(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}System.register(["./request-legacy.2cf0cbaa.js","./index-legacy.36e5d91f.js","./common-legacy.9efdda06.js","./home-legacy.0cfc7ac0.js","./useCommon-legacy.0a0b4ad9.js","./index-legacy.53a36cc9.js","./index-legacy.1f52b597.js"],(function(n){"use strict";var u,c,s,d,b,w,x,k,S,C,E,A,O,T,L,_,j,P,z,I,M,R,B,D,F,N,V,U,K,G,$,W,H,q,Y,Q,J,X,Z,ee,te,ne,re,ae,oe,ie,le;return{setters:[function(e){u=e.u,c=e.d,s=e.e,d=e.E,b=e.f,w=e.g,x=e.h},function(e){k=e.ae,S=e.i,C=e.z,E=e.A,A=e.w,O=e.E,T=e.B,L=e.I,_=e.a7,j=e.o,P=e.k,z=e.l,I=e.c,M=e.n,R=e.v,B=e.b,D=e.K,F=e.L,N=e.m,V=e.T,U=e.af,K=e.q,G=e.ag,$=e.a5,W=e.s,H=e.x,q=e.j,Y=e.D,Q=e.ah,J=e.f,X=e.ai,Z=e.O},function(e){ee=e.c},function(e){te=e.u,ne=e.a,re=e.l,ae=e.c},function(e){oe=e.u},function(e){ie=e.E},function(e){le=e.E}],execute:function(){n({a:Yn,b:function(){return{tableClickRow:Er=function(e,t){var n;if(void 0!==t){var r="selection"===t.type;if(r||"click"!==cr.globalConfig.fileClickMode){if(!mr.value){var a=1===wr.value.length&&(null===(n=xr.value)||void 0===n?void 0:n.name)===e.name;if(pr.value){var o=sr.fileList.findIndex((function(e){return e.name===xr.value.name}));if(null!==o)for(var i=sr.fileList.findIndex((function(t){return t.name===e.name})),l=Math.min(i,o),u=Math.max(i,o),c=l+1;c<u;c++){var s=sr.fileList[c];Sr(s,!0)}}else hr.value||a||r||kr();Sr(e)}}else yr(e)}else yr(e)},tableDbClickRow:function(e){mr.value||yr(e)},tableHoverRow:function(e,t,n,r){if(1===r.buttons&&-1!==Lr.value){if(-1===_r.value){kr();var a=sr.fileList[Lr.value];Sr(a,!0)}for(var o=e.index,i=_r.value>=0?_r.value:o-1,l=Math.min(i,o),u=Math.max(i,o),c=l;c<=u;c++){var s=sr.fileList[c];Sr(s,!0)}_r.value=o}},tableLeaveRow:function(e,t,n,r){1===r.buttons&&-1===Lr.value&&(Lr.value=e.index)}}},c:ur,d:function(){var n=S(),a=n.storageKey,i=n.currentPath,l=zr.globalConfig.maxFileUploads,u=function(e){s(e.file,e.uploadToPath)},s=function(e,t){var n=Ur++;if(t=t||i.value,e.webkitRelativePath||e.dropUploadPath){var r=e.webkitRelativePath||e.dropUploadPath;r.startsWith("/")||(r="/"+r);var o=r.split("/");o.forEach((function(e,n){var r=0===n,a=o.length-1===n;r||a||e&&(t+="/"+e)}))}var u={storageKey:a.value,path:ee.removeDuplicateSeparator(t),name:e.name,size:e.size};if(console.log("当前上传信息:",u,", 当前同时上传文件数:",b.value.totalUploading,"限制同时上传文件数:",l),b.value.totalUploading>=l)return console.log("上传文件数超出 ".concat(l,", 等待上传")),void Fr.push({index:n,file:e,uploadToPath:t});var s,d={name:e.name,size:e.size,speed:"-",progress:0,loaded:0,status:"uploading",startTime:Date.now(),file:e,index:n};Dr.push(d),Nr.set(n,Z.CancelToken.source()),Vr.set(n,Dr[Dr.length-1]),(s=u,s.password=nt(s.path),c({url:"/api/file/operator/upload/file",method:"post",data:s})).then((function(t){(0,x("cancel-upload-".concat(n)).on)((function(){var t=Nr.get(n);t&&(t.cancel(),Dr.find((function(t,n){var r=t.name===e.name;return r&&Dr.splice(n,1),r})))}));var r=ee.storageType.proxyType,a=ee.storageType.s3Type,o=ee.storageType.micrsoftType;r.includes(Pr.currentStorageSource.type.key)?f(e,t.data,n):a.includes(Pr.currentStorageSource.type.key)?p(e,t.data,n):o.includes(Pr.currentStorageSource.type.key)?h(e,t.data,n):"upyun"===Pr.currentStorageSource.type.key&&v(e,t.data,n)})).catch((function(e){g(n,e)}))},f=function(e,t,n){var r=new FormData;r.append("file",e),Z.post(t,r,{cancelToken:Nr.get(n).token,onUploadProgress:function(e){y(e,n,!0)}}).then((function(){m(n)})).catch((function(e){g(n,e)}))},p=function(e,t,n){Z.put(t,e,{withCredentials:!1,cancelToken:Nr.get(n).token,onUploadProgress:function(e){y(e,n)}}).then((function(){m(n)})).catch((function(e){g(n,e)}))},h=function(e,t,n){var r=1,a=0,o=0,i=e.size,l=104857599;if(0!==i){!function u(){o=a+l>=i?i:a+l,r>1&&Nr.set(n,Z.CancelToken.source());var c=e.slice(a,o);Z.put("".concat(t),c,{cancelToken:Nr.get(n).token,timeout:1e7,headers:{"Content-Type":"application/octet-stream","Content-Range":"bytes ".concat(a,"-").concat(o-1,"/").concat(e.size)},type:"sync",withCredentials:!1,onUploadProgress:function(e){if(e.lengthComputable){var t=Vr.get(n),r=e.loaded+a;t.size=i,t.loaded=r,t.progress=Math.round(r/i*100),t.speed=ee.fileSizeFormat(Math.round(r/(Date.now()-t.startTime)*1e3))}}}).then((function(e){202===e.status?(a+=l,r+=1,u()):201!==e.status&&200!==e.status||m(n)})).catch((function(e){g(n,e)}))}()}else g(n,"当前存储类型不支持上传空文件")},v=function(e,t,n){var r=JSON.parse(t),a=new FormData;a.append("name",e.name),a.append("authorization",r.signature),a.append("policy",r.policy),a.append("file",e),Z.post(r.url,a,{withCredentials:!1,cancelToken:Nr.get(n).token,onUploadProgress:function(e){y(e,n)}}).then((function(){m(n)})).catch((function(e){g(n,e)}))},g=function(e,t){var n,r=Vr.get(e);r.status="error",r.endTime=Date.now(),r.msg=(null==t||null===(n=t.response)||void 0===n?void 0:n.data)||t},m=function(e){var t=Vr.get(e);t.progress=100,t.status="finished",t.endTime=Date.now(),t.msg="上传成功"},y=function(e,t,n){var r=Vr.get(t);r.size=e.total,r.loaded=e.loaded,r.progress=Math.round(e.loaded/e.total*100),r.speed=ee.fileSizeFormat(Math.round(e.loaded/(Date.now()-r.startTime)*1e3)),console.log("uploadFileInfo",r,n),n&&100===r.progress&&(r.msg="上传完成, 服务器中转中...")},b=E((function(){var e=Dr.length,t=0,n=0;Dr.forEach((function(e){"uploading"===e.status?t++:"finished"===e.status&&n++}));var r=t+Fr.length;return{totalSize:e,totalUploading:t,totalFinish:n,totalUploadingAndWaiting:r}})),w=E((function(){var e=[];return e.push.apply(e,o(Dr)),Fr.forEach((function(t){e.push({name:t.file.name,size:t.file.size,status:"waiting",msg:"排队中...",index:t.index})})),e.sort((function(e,t){var n=e.status,r=t.status;return n!==r?Kr[n]-Kr[r]:e.startTime!==t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),console.log("uploadProgressInfoSorted",e),e}));Mr||(A((function(){return b.value.totalUploading}),(function(e){if(e<l)if(console.log("检测到上传中的文件个数小于最大上传限制."),0===Fr.length)console.log("等待上传的文件数为 0, 无需继续上传.");else{var t=Fr.splice(0,1)[0];u({file:t.file,uploadToPath:t.uploadToPath}),console.log("开始从等待队列中获取上传文件: ",t.file.name)}})),Mr=!0);var k=function(e){if(null!=e){var t=Dr.findIndex((function(t,n){if(t.index===e)return Dr.splice(n,1),!0}));-1===t&&(t=Fr.findIndex((function(t,n){if(t.index===e)return Fr.splice(n,1),!0}))),-1!==t&&(Vr.delete(e),Nr.delete(e))}};return{visible:Rr,uploadMode:Br,openUploadDialog:function(){Rr.value=!0,Br.value="file"},openUploadFolderDialog:function(){Rr.value=!0,Br.value="folder",$((function(){document.getElementsByClassName("el-upload__input")[0].webkitdirectory=!0}))},cancelUpload:function(e){ie.confirm("是否确定取消文件 ".concat(e.name," 上传？"),"提示",{confirmButtonText:"确定",cancelButtonText:"返回",type:"warning",callback:function(t){"confirm"===t&&x("cancel-upload-".concat(e.index)).emit()}})},dropState:Ir,listenDropFile:function(n){n=document.querySelector("body");var l=function(e){var t,n,r,o,l=(null===(t=e.dataTransfer)||void 0===t||null===(n=t.files)||void 0===n?void 0:n.length)>0;if(p(),Ir.value=!1,(!Tr()||!l)&&document.querySelector(".is-message-box .el-input__inner")!==document.activeElement&&a.value&&zr.permission.upload){e.stopPropagation(),e.preventDefault();var c=le.service({text:"文件读取中...",background:"rgba(0, 0, 0, .3)"}),f=(null===(r=e.clipboardData)||void 0===r?void 0:r.items)||(null===(o=e.dataTransfer)||void 0===o?void 0:o.items);s(f).then((function(e){if($((function(){c.close()})),0!==e.length){var t=function(){Rr.value=!0,e.forEach((function(e){u({file:e,uploadToPath:i.value})}))};e.length>100?ie.confirm("文件数量为 ".concat(e.length," 个，是否确认上传？"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success",callback:function(e){"confirm"===e&&t()}}):t()}}))}},c=null;n.addEventListener("dragenter",(function(e){a.value&&(Rr.value||zr.permission.upload&&(c=e.target,f(),e.stopPropagation(),e.preventDefault(),Ir.value=!0))}),!1),n.addEventListener("dragover",(function(e){a.value&&(Rr.value||zr.permission.upload&&(e.stopPropagation(),e.preventDefault(),Ir.value=!0))}),!1),n.addEventListener("dragleave",(function(e){a.value&&(Rr.value||zr.permission.upload&&(c===e.target&&(p(),Ir.value=!1),e.stopPropagation(),e.preventDefault()))}),!1),n.addEventListener("drop",l,!1),n.addEventListener("paste",l,!1);var s=function(){var n=r(e().mark((function n(r){var a,i,l,u,c,s,f,p,h;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],i=[],!r){e.next=39;break}l=t(Array,o(r)),u=0;case 5:if(!(u<l.length)){e.next=27;break}if(c=l[u],s=null,!c.webkitGetAsEntry){e.next=17;break}if(s=c.webkitGetAsEntry()){e.next=15;break}if(!(s=c.getAsFile())){e.next=15;break}return a.push(s),e.abrupt("continue",24);case 15:e.next=23;break;case 17:if(!c.getAsEntry){e.next=21;break}s=c.getAsEntry(),e.next=23;break;case 21:return d.warning("浏览器不支持拖拽上传"),e.abrupt("return");case 23:i.push(s);case 24:u++,e.next=5;break;case 27:if(!(i.length>0)){e.next=39;break}f=0;case 29:if(!(f<i.length)){e.next=39;break}if(!(p=i[f])){e.next=36;break}return e.next=34,m(p);case 34:h=e.sent,Array.isArray(h)?g(h,a):a.push(h);case 36:f++,e.next=29;break;case 39:return e.abrupt("return",a);case 40:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){n.classList.add("dragging-over")},p=function(){n.classList.remove("dragging-over")};function h(e){return new Promise((function(t,n){e.file((function(e){t(e)}))}))}function v(e){return new Promise((function(t,n){e.readEntries((function(e){t(e)}))}))}function g(e,t){for(var n=0;n<e.length;n++)Array.isArray(e[n])?g(e[n],t):t.push(e[n])}function m(e){return y.apply(this,arguments)}function y(){return y=r(e().mark((function t(n){var r,a,o,i,l,u,c;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.fullPath||"",a=[],!n.isFile){e.next=10;break}return e.next=5,h(n);case 5:return(o=e.sent).dropUploadPath=r,e.abrupt("return",o);case 10:if(!n.isDirectory){e.next=25;break}return i=n.createReader(),e.next=14,v(i);case 14:l=e.sent,u=0;case 16:if(!(u<l.length)){e.next=24;break}return e.next=19,m(l[u]);case 19:c=e.sent,a.push(c);case 21:u++,e.next=16;break;case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),t)}))),y.apply(this,arguments)}},beforeUpload:u,uploadFile:s,uploadProgressInfoSorted:w,uploadProgressInfoStatistics:b,clearALlFinishedUploadFile:function(){for(var e=0,t=Dr.length-1;t>=0;t--){var n=Dr[t];"finished"===n.status&&(e++,Dr.splice(t,1),Vr.delete(n.index),Nr.delete(n.index))}return e},removeUploadFileByIndex:k,retryUpload:function(e){console.log("重新上传文件",e),k(e.index),s(e.file)}}},e:mn,f:bt,g:tt});var ue=n("u",k("fileDataStore",{state:function(){return{currentClickRow:{},currentRightClickRow:{},currentStorageSource:{id:null,type:{description:"",key:""}},imgMode:!1,newImgMode:!1,oldStorageKey:null,searchParam:"",fileListSource:[],audioArray:[],audioIndex:0}},getters:{filterFileByType:function(e){return function(t){return e.fileListSource.filter((function(e){if("BACK"===e.type)return!1;var n=e.name,r=n.substr(n.lastIndexOf(".")+1).toLowerCase();return-1!==ee.constant.fileTypeMap[t].indexOf(r)}))}},fileList:function(e){var t=e.fileListSource;return t.forEach((function(e){if(e.icon||(e.icon=ee.getFileIconName(e)),null!==e.preview){var t=ee.getFileType(e.name);t?(e.fileType=t,e.preview=-1!==ee.constant.previewFileType.indexOf(t)):e.preview=!1}})),t}},actions:{updateCurrentStorageSource:function(e){this.currentStorageSource=e},updateAudioIndex:function(e){this.audioIndex=e},updateAudioList:function(e){this.audioArray=e},updateCurrentClickRow:function(e){this.currentClickRow=e},updateCurrentRightClickRow:function(e){this.currentRightClickRow=e},updateFileList:function(e){this.fileListSource=e},updateOldStorageKey:function(e){this.oldStorageKey=e}}})),ce="object"===("undefined"==typeof process?"undefined":y(process))&&process&&"win32"===process.platform?{sep:"\\"}:{sep:"/"},se=fe;function fe(e,t,n){e instanceof RegExp&&(e=de(e,n)),t instanceof RegExp&&(t=de(t,n));var r=pe(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function de(e,t){var n=t.match(e);return n?n[0]:null}function pe(e,t,n){var r,a,o,i,l,u=n.indexOf(e),c=n.indexOf(t,u+1),s=u;if(u>=0&&c>0){if(e===t)return[u,c];for(r=[],o=n.length;s>=0&&!l;)s==u?(r.push(s),u=n.indexOf(e,s+1)):1==r.length?l=[r.pop(),c]:((a=r.pop())<o&&(o=a,i=c),c=n.indexOf(t,s+1)),s=u<c&&u>=0?u:c;r.length&&(l=[o,i])}return l}fe.range=pe;var he=se,ve=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return Te(function(e){return e.split("\\\\").join(ge).split("\\{").join(me).split("\\}").join(ye).split("\\,").join(be).split("\\.").join(we)}(e),!0).map(ke)},ge="\0SLASH"+Math.random()+"\0",me="\0OPEN"+Math.random()+"\0",ye="\0CLOSE"+Math.random()+"\0",be="\0COMMA"+Math.random()+"\0",we="\0PERIOD"+Math.random()+"\0";function xe(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function ke(e){return e.split(ge).join("\\").split(me).join("{").split(ye).join("}").split(be).join(",").split(we).join(".")}function Se(e){if(!e)return[""];var t=[],n=he("{","}",e);if(!n)return e.split(",");var r=n.pre,a=n.body,o=n.post,i=r.split(",");i[i.length-1]+="{"+a+"}";var l=Se(o);return o.length&&(i[i.length-1]+=l.shift(),i.push.apply(i,l)),t.push.apply(t,i),t}function Ce(e){return"{"+e+"}"}function Ee(e){return/^-?0\d/.test(e)}function Ae(e,t){return e<=t}function Oe(e,t){return e>=t}function Te(e,t){var n=[],r=he("{","}",e);if(!r)return[e];var a=r.pre,o=r.post.length?Te(r.post,!1):[""];if(/\$$/.test(r.pre))for(var i=0;i<o.length;i++){var l=a+"{"+r.body+"}"+o[i];n.push(l)}else{var u,c,s=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),d=s||f,p=r.body.indexOf(",")>=0;if(!d&&!p)return r.post.match(/,.*\}/)?Te(e=r.pre+"{"+r.body+ye+r.post):[e];if(d)u=r.body.split(/\.\./);else if(1===(u=Se(r.body)).length&&1===(u=Te(u[0],!1).map(Ce)).length)return o.map((function(e){return r.pre+u[0]+e}));if(d){var h=xe(u[0]),v=xe(u[1]),g=Math.max(u[0].length,u[1].length),m=3==u.length?Math.abs(xe(u[2])):1,y=Ae;v<h&&(m*=-1,y=Oe);var b=u.some(Ee);c=[];for(var w=h;y(w,v);w+=m){var x;if(f)"\\"===(x=String.fromCharCode(w))&&(x="");else if(x=String(w),b){var k=g-x.length;if(k>0){var S=new Array(k+1).join("0");x=w<0?"-"+S+x.slice(1):S+x}}c.push(x)}}else{c=[];for(var C=0;C<u.length;C++)c.push.apply(c,Te(u[C],!1))}for(C=0;C<c.length;C++)for(i=0;i<o.length;i++){l=a+c[C]+o[i];(!t||d||l)&&n.push(l)}}return n}var Le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ke(t),!(!n.nocomment&&"#"===t.charAt(0))&&new $e(t,n).match(e)},_e=Le,je=ce;Le.sep=je.sep;var Pe=Symbol("globstar **");Le.GLOBSTAR=Pe;var ze=ve,Ie={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Me="[^/]",Re="[^/]*?",Be=function(e){return e.split("").reduce((function(e,t){return e[t]=!0,e}),{})},De=Be("().*{}+?[]^$\\!"),Fe=Be("[.("),Ne=/\/+/;Le.filter=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,a){return Le(n,e,t)}};var Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return Object.keys(e).forEach((function(t){return n[t]=e[t]})),Object.keys(t).forEach((function(e){return n[e]=t[e]})),n};Le.defaults=function(e){if(!e||"object"!==y(e)||!Object.keys(e).length)return Le;var t=Le,n=function(n,r,a){return t(n,r,Ve(e,a))};return(n.Minimatch=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(o,t);var n,r,a=(n=o,r=g(),function(){var e,t=m(n);if(r){var a=m(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return v(this,e)});function o(t,n){return p(this,o),a.call(this,t,Ve(e,n))}return f(o)}(t.Minimatch)).defaults=function(n){return t.defaults(Ve(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,Ve(e,r))},n.defaults=function(n){return t.defaults(Ve(e,n))},n.makeRe=function(n,r){return t.makeRe(n,Ve(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,Ve(e,r))},n.match=function(n,r,a){return t.match(n,r,Ve(e,a))},n},Le.braceExpand=function(e,t){return Ue(e,t)};var Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ke(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:ze(e)},Ke=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},Ge=Symbol("subparse");Le.makeRe=function(e,t){return new $e(e,t||{}).makeRe()},Le.match=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new $e(t,n);return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e};var $e=function(){function e(t,n){p(this,e),Ke(t),n||(n={}),this.options=n,this.set=[],this.pattern=t,this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||!1===n.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.make()}return f(e,[{key:"debug",value:function(){}},{key:"make",value:function(){var e=this,t=this.pattern,n=this.options;if(n.nocomment||"#"!==t.charAt(0))if(t){this.parseNegate();var r=this.globSet=this.braceExpand();n.debug&&(this.debug=function(){var e;return(e=console).error.apply(e,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(Ne)})),this.debug(this.pattern,r),r=r.map((function(t,n,r){return t.map(e.parse,e)})),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}},{key:"parseNegate",value:function(){if(!this.options.nonegate){for(var e=this.pattern,t=!1,n=0,r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}},{key:"matchOne",value:function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var a=0,o=0,i=e.length,l=t.length;a<i&&o<l;a++,o++){this.debug("matchOne loop");var u,c=t[o],s=e[a];if(this.debug(t,c,s),!1===c)return!1;if(c===Pe){this.debug("GLOBSTAR",[t,c,s]);var f=a,d=o+1;if(d===l){for(this.debug("** at the end");a<i;a++)if("."===e[a]||".."===e[a]||!r.dot&&"."===e[a].charAt(0))return!1;return!0}for(;f<i;){var p=e[f];if(this.debug("\nglobstar while",e,f,t,d,p),this.matchOne(e.slice(f),t.slice(d),n))return this.debug("globstar found match!",f,i,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,f,t,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,d),f!==i))}if("string"==typeof c?(u=s===c,this.debug("string match",c,s,u)):(u=s.match(c),this.debug("pattern match",c,s,u)),!u)return!1}if(a===i&&o===l)return!0;if(a===i)return n;if(o===l)return a===i-1&&""===e[a];throw new Error("wtf?")}},{key:"braceExpand",value:function(){return Ue(this.pattern,this.options)}},{key:"parse",value:function(e,t){var n=this;Ke(e);var r=this.options;if("**"===e){if(!r.noglobstar)return Pe;e="*"}if(""===e)return"";for(var a,o,i,l,u,c="",s=!!r.nocase,f=!1,d=[],p=[],h=!1,v=-1,g=-1,m="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=function(){if(a){switch(a){case"*":c+=Re,s=!0;break;case"?":c+=Me,s=!0;break;default:c+="\\"+a}n.debug("clearStateChar %j %j",a,c),a=!1}},b=0;b<e.length&&(u=e.charAt(b));b++)if(this.debug("%s\t%s %s %j",e,b,c,u),f){if("/"===u)return!1;De[u]&&(c+="\\"),c+=u,f=!1}else switch(u){case"/":return!1;case"\\":y(),f=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,b,c,u),h){this.debug("  in class"),"!"===u&&b===g+1&&(u="^"),c+=u;continue}this.debug("call clearStateChar %j",a),y(),a=u,r.noext&&y();continue;case"(":if(h){c+="(";continue}if(!a){c+="\\(";continue}d.push({type:a,start:b-1,reStart:c.length,open:Ie[a].open,close:Ie[a].close}),c+="!"===a?"(?:(?!(?:":"(?:",this.debug("plType %j %j",a,c),a=!1;continue;case")":if(h||!d.length){c+="\\)";continue}y(),s=!0,i=d.pop(),c+=i.close,"!"===i.type&&p.push(i),i.reEnd=c.length;continue;case"|":if(h||!d.length){c+="\\|";continue}y(),c+="|";continue;case"[":if(y(),h){c+="\\"+u;continue}h=!0,g=b,v=c.length,c+=u;continue;case"]":if(b===g+1||!h){c+="\\"+u;continue}o=e.substring(g+1,b);try{RegExp("["+o+"]")}catch(z){l=this.parse(o,Ge),c=c.substr(0,v)+"\\["+l[0]+"\\]",s=s||l[1],h=!1;continue}s=!0,h=!1,c+=u;continue;default:y(),!De[u]||"^"===u&&h||(c+="\\"),c+=u}for(h&&(o=e.substr(g+1),l=this.parse(o,Ge),c=c.substr(0,v)+"\\["+l[0],s=s||l[1]),i=d.pop();i;i=d.pop()){var w=void 0;w=c.slice(i.reStart+i.open.length),this.debug("setting tail",c,i),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",w,w,i,c);var x="*"===i.type?Re:"?"===i.type?Me:"\\"+i.type;s=!0,c=c.slice(0,i.reStart)+x+"\\("+w}y(),f&&(c+="\\\\");for(var k=Fe[c.charAt(0)],S=p.length-1;S>-1;S--){for(var C=p[S],E=c.slice(0,C.reStart),A=c.slice(C.reStart,C.reEnd-8),O=c.slice(C.reEnd),T=c.slice(C.reEnd-8,C.reEnd)+O,L=E.split("(").length-1,_=O,j=0;j<L;j++)_=_.replace(/\)[+*?]?/,"");c=E+A+(O=_)+(""===O&&t!==Ge?"$":"")+T}if(""!==c&&s&&(c="(?=.)"+c),k&&(c=m+c),t===Ge)return[c,s];if(!s)return e.replace(/\\(.)/g,"$1");var P=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+c+"$",P),{_glob:e,_src:c})}catch(z){return new RegExp("$.")}}},{key:"makeRe",value:function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?Re:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",a=e.map((function(e){return e=e.map((function(e){return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===Pe?Pe:e._src})).reduce((function(e,t){return e[e.length-1]===Pe&&t===Pe||e.push(t),e}),[]),e.forEach((function(t,r){t===Pe&&e[r-1]!==Pe&&(0===r?e.length>1?e[r+1]="(?:\\/|"+n+"\\/)?"+e[r+1]:e[r]=n:r===e.length-1?e[r-1]+="(?:\\/|"+n+")?":(e[r-1]+="(?:\\/|\\/"+n+"\\/)"+e[r+1],e[r+1]=Pe))})),e.filter((function(e){return e!==Pe})).join("/")})).join("|");a="^(?:"+a+")$",this.negate&&(a="^(?!"+a+").*$");try{this.regexp=new RegExp(a,r)}catch(o){this.regexp=!1}return this.regexp}},{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.partial;if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==je.sep&&(e=e.split(je.sep).join("/")),e=e.split(Ne),this.debug(this.pattern,"split",e);var r,a=this.set;this.debug(this.pattern,"set",a);for(var o=e.length-1;o>=0&&!(r=e[o]);o--);for(var i=0;i<a.length;i++){var l=a[i],u=e;n.matchBase&&1===l.length&&(u=[r]);var c=this.matchOne(u,l,t);if(c)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}}],[{key:"defaults",value:function(e){return Le.defaults(e).Minimatch}}]),e}();Le.Minimatch=$e;var We=_e,He={};Object.defineProperty(He,"__esModule",{value:!0});var qe=n("r",He.removeDuplicateSlashes=He.transform=void 0),Ye=/(?!^)\/{2,}/g;function Qe(e){return e.replace(Ye,"/")}He.transform=function(e){return e.map((function(e){return Qe(e)}))},n("r",qe=He.removeDuplicateSlashes=Qe);var Je=S(),Xe=Je.storageKey,Ze=Je.currentPath,et=u("zfile-pwd-cache",{});function tt(){return{putPathPwd:function(e,t){e&&(e=e.startsWith("/")?e:"/"+e,et.value[Xe.value]||(et.value[Xe.value]={}),e.endsWith("**")&&!e.endsWith("/**")&&(e=qe(e.substring(0,e.length-2)+"/**"),console.log("检测到密码文件夹通配符 ** 前未写 /，自动将其修正为为：",e)),et.value[Xe.value][e]=t)},getPathPwd:function(e){var t=e||Ze.value;t=ee.removeDuplicateSeparator("/"+t+"/");for(var n=0,r=Object.keys(et.value);n<r.length;n++){var a=r[n];if(a===Xe.value)for(var o=0,i=Object.keys(et.value[a]);o<i.length;o++){var l=i[o];if(We(t,l))return et.value[a][l]}}return""}}}var nt=tt().getPathPwd,rt=function(e){return e.password=nt(e.path),c({url:"/api/file/operator/rename/file",method:"post",data:e})},at=function(e){return e.password=nt(e.path),c({url:"/api/file/operator/rename/folder",method:"post",data:e})};function ot(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function it(e,t){for(var n,r="",a=0,o=-1,i=0,l=0;l<=e.length;++l){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(o===l-1||1===i);else if(o!==l-1&&2===i){if(r.length<2||2!==a||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",a=0):a=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),o=l,i=0;continue}}else if(2===r.length||1===r.length){r="",a=0,o=l,i=0;continue}t&&(r.length>0?r+="/..":r="..",a=2)}else r.length>0?r+="/"+e.slice(o+1,l):r=e.slice(o+1,l),a=l-o-1;o=l,i=0}else 46===n&&-1!==i?++i:i=-1}return r}var lt={resolve:function(){for(var e,t="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var a;r>=0?a=arguments[r]:(void 0===e&&(e=process.cwd()),a=e),ot(a),0!==a.length&&(t=a+"/"+t,n=47===a.charCodeAt(0))}return t=it(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(ot(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=it(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return ot(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];ot(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":lt.normalize(e)},relative:function(e,t){if(ot(e),ot(t),e===t)return"";if((e=lt.resolve(e))===(t=lt.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,a=r-n,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length-o,l=a<i?a:i,u=-1,c=0;c<=l;++c){if(c===l){if(i>l){if(47===t.charCodeAt(o+c))return t.slice(o+c+1);if(0===c)return t.slice(o+c)}else a>l&&(47===e.charCodeAt(n+c)?u=c:0===c&&(u=0));break}var s=e.charCodeAt(n+c);if(s!==t.charCodeAt(o+c))break;47===s&&(u=c)}var f="";for(c=n+u+1;c<=r;++c)c!==r&&47!==e.charCodeAt(c)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(o+u):(o+=u,47===t.charCodeAt(o)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(ot(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!a){r=o;break}}else a=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');ot(e);var n,r=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var i=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!o){r=n+1;break}}else-1===l&&(o=!1,l=n+1),i>=0&&(u===t.charCodeAt(i)?-1==--i&&(a=n):(i=-1,a=l))}return r===a?a=l:-1===a&&(a=e.length),e.slice(r,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){r=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(r,a)},extname:function(e){ot(e);for(var t=-1,n=0,r=-1,a=!0,o=0,i=e.length-1;i>=0;--i){var l=e.charCodeAt(i);if(47!==l)-1===r&&(a=!1,r=i+1),46===l?-1===t?t=i:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=i+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(null===e||"object"!==y(e))throw new TypeError('The "pathObject" argument must be of type Object. Received type '+y(e));return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){ot(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=e.charCodeAt(0),a=47===r;a?(t.root="/",n=1):n=0;for(var o=-1,i=0,l=-1,u=!0,c=e.length-1,s=0;c>=n;--c)if(47!==(r=e.charCodeAt(c)))-1===l&&(u=!1,l=c+1),46===r?-1===o?o=c:1!==s&&(s=1):-1!==o&&(s=-1);else if(!u){i=c+1;break}return-1===o||-1===l||0===s||1===s&&o===l-1&&o===i+1?-1!==l&&(t.base=t.name=0===i&&a?e.slice(1,l):e.slice(i,l)):(0===i&&a?(t.name=e.slice(1,o),t.base=e.slice(1,l)):(t.name=e.slice(i,o),t.base=e.slice(i,l)),t.ext=e.slice(o,l)),i>0?t.dir=e.slice(0,i-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};lt.posix=lt;var ut,ct=n("p",lt),st=(n("h",(function(e){return c({url:"/api/site/reset-password",method:"get",data:e})})),ue()),ft=te(),dt=S(),pt=dt.routerRef,ht=dt.fullpath,vt=dt.storageKey,gt=C([]),mt=C(),yt=!1;function bt(){var e=ft.globalConfig.rootShowStorage,t=function(e){vt.value?o(vt.value)?mt.value=vt.value:a():e?(st.updateFileList(n.value),document.title=ft.globalConfig.siteName+" | 首页"):a();r()},n=E((function(){var e=[];return gt.value.forEach((function(t){e.push({name:t.name,path:t.key,size:0,time:"-",type:"ROOT"})})),e})),r=function(){gt.value.some((function(e){e.key===mt.value&&st.updateCurrentStorageSource(e)}))};yt||(A((function(){return mt.value}),(function(e,t){(e&&!ht.value||void 0!==t)&&(pt.value.push("/"+e),r())})),A((function(){return vt.value}),(function(e){t(!0)})),yt=!0);var a=function(){if(gt.value.length>0){var e=gt.value[0].key;mt.value=e,pt.value.push("/"+e)}},o=function(e){return gt.value.find((function(t){if(t.key==e)return t}))};return{loadStorageSourceList:function(){return new Promise((function(n){var r;c({url:"/api/storage/list",method:"get",data:r}).then((function(r){gt.value=r.data,0!==gt.value.length?(t(e),n(r)):ie.confirm("当前无可用存储源，是否跳转至管理员页面添加存储源？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"info",callback:function(e){"confirm"===e&&pt.value.push("/login")}})}))}))},storageList:gt,findStorageByKey:o,currentStorageKey:mt,storageListAsFileList:n}}var wt="undefined"!=typeof window,xt=function(){};wt&&(null==(ut=null==window?void 0:window.navigator)?void 0:ut.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);var kt=Object.defineProperty,St=Object.defineProperties,Ct=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,Tt=function(e,t,n){return t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Lt=function(e,t){for(var n in t||(t={}))At.call(t,n)&&Tt(e,n,t[n]);if(Et){var r,a=l(Et(t));try{for(a.s();!(r=a.n()).done;){n=r.value;Ot.call(t,n)&&Tt(e,n,t[n])}}catch(o){a.e(o)}finally{a.f()}}return e},_t=wt?window:void 0;function jt(){for(var e,t,n,r,a,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];if("string"==typeof l[0]?(n=l[0],r=l[1],a=l[2],t=_t):(e=i(l,4),t=e[0],n=e[1],r=e[2],a=e[3]),!t)return xt;var c,s=xt,f=A((function(){return function(e){var t,n=q(e);return null!=(t=null==n?void 0:n.$el)?t:n}(t)}),(function(e){s(),e&&(e.addEventListener(n,r,a),s=function(){e.removeEventListener(n,r,a),s=xt})}),{immediate:!0,flush:"post"}),d=function(){f(),s()};return c=d,Y()&&Q(c),d}var Pt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zt="__vueuse_ssr_handlers__";Pt[zt]=Pt[zt]||{},Pt[zt];var It,Mt,Rt=Object.defineProperty,Bt=Object.defineProperties,Dt=Object.getOwnPropertyDescriptors,Ft=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Ut=function(e,t,n){return t in e?Rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n};(Mt=It||(It={})).UP="UP",Mt.RIGHT="RIGHT",Mt.DOWN="DOWN",Mt.LEFT="LEFT",Mt.NONE="NONE";var Kt=["a","s","d","w","q","e","A","S","D","W","Q","E","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Escape"," "],Gt=O({name:"V3ImgPreview",props:{showToolbar:{type:Boolean,default:!0},showArrowBtn:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},url:{type:String,default:void 0},escClose:{type:Boolean,default:!0},images:{type:Array,default:function(){return[]}},showCloseBtn:{type:Boolean,default:!0},index:{type:Number,default:0},on_unmount_v3_ima_preview_app:{type:Function}},setup:function(e,t){var n=t.emit,r=C(null),i=C(null),u=function(e){var t,n,r,i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=null!=(t=u.draggingElement)?t:_t,s=C(null!=(n=u.initialValue)?n:{x:0,y:0}),f=C(),d=function(e){return!u.pointerTypes||u.pointerTypes.includes(e.pointerType)},p=function(e){q(u.preventDefault)&&e.preventDefault(),q(u.stopPropagation)&&e.stopPropagation()},h=function(e){var t;d(e)&&f.value&&(s.value={x:e.pageX-f.value.x,y:e.pageY-f.value.y},null==(t=u.onMove)||t.call(u,s.value,e),p(e))},v=function(e){var t;d(e)&&f.value&&(f.value=void 0,null==(t=u.onEnd)||t.call(u,s.value,e),p(e))};return wt&&(jt(e,"pointerdown",(function(t){var n;if(d(t)&&(!q(u.exact)||t.target===q(e))){var r=q(e).getBoundingClientRect(),a={x:t.pageX-r.left,y:t.pageY-r.top};!1!==(null==(n=u.onStart)?void 0:n.call(u,a,t))&&(f.value=a,p(t))}}),!0),jt(c,"pointermove",h,!0),jt(c,"pointerup",v,!0)),r=function(e,t){for(var n in t||(t={}))Nt.call(t,n)&&Ut(e,n,t[n]);if(Ft){var r,a=l(Ft(t));try{for(a.s();!(r=a.n()).done;)n=r.value,Vt.call(t,n)&&Ut(e,n,t[n])}catch(o){a.e(o)}finally{a.f()}}return e}({},function(e){if(!K(e))return _(e);var t=Array.isArray(e.value)?new Array(e.value.length):{},n=function(n){t[n]=G((function(){return{get:function(){return e.value[n]},set:function(t){if(Array.isArray(e.value)){var r=o(e.value);r[n]=t,e.value=r}else{var i=(l=Lt({},e.value),St(l,Ct(a({},n,t))));Object.setPrototypeOf(i,e.value),e.value=i}var l}}}))};for(var r in e.value)n(r);return t}(s)),i={position:s,isDragging:E((function(){return!!f.value})),style:E((function(){return"left:".concat(s.value.x,"px;top:").concat(s.value.y,"px;")}))},Bt(r,Dt(i))}(i),c=u.style,s=T({visible:!0,imgState:"loading",src:"",imgIndex:e.index}),f=E((function(){var t;return(null===(t=e.images)||void 0===t?void 0:t.length)>1&&e.showArrowBtn})),d=T({imgScale:1,imgRotate:0}),p=E((function(){var t;return(null===(t=e.images)||void 0===t?void 0:t.length)>1})),h=function(e){return function(e,t){return function(){for(var n=this,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];e((function(){return t.apply(n,a)}),{fn:t,thisArg:this,args:a})}}(function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){var o=q(e),i=q(r.maxWait);if(t&&clearTimeout(t),o<=0||void 0!==i&&i<=0)return n&&(clearTimeout(n),n=null),a();i&&!n&&(n=setTimeout((function(){t&&clearTimeout(t),n=null,a()}),i)),t=setTimeout((function(){n&&clearTimeout(n),n=null,a()}),o)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),e)}((function(t){if(!e.keyboard)return!1;t.preventDefault();var n=t.key;return["s","S","ArrowDown"].includes(n)?m(-.1,!1):["w","W","ArrowUp"].includes(n)?m(.1,!1):" "===n?v():"Escape"===n&&e.escClose?w():["E","e"].includes(n)?g(!0):["Q","q"].includes(n)?g(!1):["a","A","ArrowLeft"].includes(n)?x(!1):["d","D","ArrowRight"].includes(n)?x(!0):void 0}),200);!function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.target,o=void 0===a?_t:a,i=r.eventName,l=void 0===i?"keydown":i,u=r.passive,c=void 0!==u&&u,s="function"==typeof(n=e)?n:"string"==typeof n?function(e){return e.key===n}:Array.isArray(n)?function(e){return n.includes(e.key)}:n?function(){return!0}:function(){return!1};jt(o,l,(function(e){s(e)&&t(e)}),c)}(Kt,h);var v=function(){d.imgScale=1,d.imgRotate=0,i.value.style.top="0",i.value.style.left="0"};function g(e){d.imgRotate+=90*(e?1:-1)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d.imgScale<=.2&&e<0||(t?d.imgScale=e:d.imgScale+=e)}function y(e){e.preventDefault(),m(e.deltaY<0?.05:-.05)}function b(e){s.imgState="loading",function(e){var t=new Image;return t.src=e,new Promise((function(n,r){t.onload=function(){n(e)},t.onerror=function(){r(e)}}))}(e).then((function(){s.imgState="success",s.src=e,v()})).catch((function(){s.imgState="error"}))}function w(){var t;s.visible=!1,n("close"),null===(t=e.on_unmount_v3_ima_preview_app)||void 0===t||t.call(e)}function x(t){p.value&&(t?(s.imgIndex++,s.imgIndex>e.images.length-1&&(s.imgIndex=0)):(s.imgIndex--,s.imgIndex<0&&(s.imgIndex=e.images.length-1)),b(e.images[s.imgIndex]))}return L((function(){window.__V3__IMG__PREVIEW__LOAD__ICON__SVG__||function(e){e.__V3__IMG__PREVIEW__LOAD__ICON__SVG__=!0;var t,n,r,a,o,i='<svg><symbol id="v3-img-close" viewBox="0 0 1045 1024"><path d="M282.517333 213.376l-45.354666 45.162667L489.472 512 237.162667 765.461333l45.354666 45.162667L534.613333 557.354667l252.096 253.269333 45.354667-45.162667-252.288-253.44 252.288-253.482666-45.354667-45.162667L534.613333 466.624l-252.096-253.226667z"  ></path></symbol><symbol id="v3-img-img-error" viewBox="0 0 1024 1024"><path d="M704 328a72 72 0 1 0 144 0 72 72 0 1 0-144 0z"  ></path><path d="M999.904 116.608a32 32 0 0 0-21.952-10.912L521.76 73.792a31.552 31.552 0 0 0-27.2 11.904l-92.192 114.848a32 32 0 0 0 0.672 40.896l146.144 169.952-147.456 194.656 36.48-173.376a32 32 0 0 0-11.136-31.424L235.616 245.504l79.616-125.696a32 32 0 0 0-29.28-49.024L45.76 87.552a32 32 0 0 0-29.696 34.176l55.808 798.016a32.064 32.064 0 0 0 34.304 29.696l176.512-13.184c17.632-1.312 30.848-16.672 29.504-34.272s-16.576-31.04-34.304-29.536L133.44 883.232l-6.432-92.512 125.312-12.576a32 32 0 0 0 28.672-35.04 32.16 32.16 0 0 0-35.04-28.672L122.56 726.848 82.144 149.184l145.152-10.144-60.96 96.224a32 32 0 0 0 6.848 41.952l198.4 161.344-58.752 279.296a30.912 30.912 0 0 0 0.736 14.752 31.68 31.68 0 0 0 1.408 11.04l51.52 154.56a31.968 31.968 0 0 0 27.456 21.76l523.104 47.552a32.064 32.064 0 0 0 34.848-29.632l55.776-798.048a32.064 32.064 0 0 0-7.776-23.232z m-98.912 630.848l-412.576-39.648a31.52 31.52 0 0 0-34.912 28.768 32 32 0 0 0 28.8 34.912l414.24 39.808-6.272 89.536-469.728-42.72-39.584-118.72 234.816-310.016a31.936 31.936 0 0 0-1.248-40.192L468.896 219.84l65.088-81.056 407.584 28.48-40.576 580.192z"  ></path></symbol><symbol id="v3-img-loading" viewBox="0 0 1024 1024"><path d="M834.7648 736.3584a5.632 5.632 0 1 0 11.264 0 5.632 5.632 0 0 0-11.264 0z m-124.16 128.1024a11.1616 11.1616 0 1 0 22.3744 0 11.1616 11.1616 0 0 0-22.3744 0z m-167.3216 65.8944a16.7936 16.7936 0 1 0 33.6384 0 16.7936 16.7936 0 0 0-33.6384 0zM363.1616 921.6a22.3744 22.3744 0 1 0 44.7488 0 22.3744 22.3744 0 0 0-44.7488 0z m-159.744-82.0224a28.0064 28.0064 0 1 0 55.9616 0 28.0064 28.0064 0 0 0-56.0128 0zM92.672 700.16a33.6384 33.6384 0 1 0 67.2256 0 33.6384 33.6384 0 0 0-67.2256 0zM51.2 528.9984a39.168 39.168 0 1 0 78.336 0 39.168 39.168 0 0 0-78.336 0z m34.1504-170.0864a44.8 44.8 0 1 0 89.6 0 44.8 44.8 0 0 0-89.6 0zM187.904 221.7984a50.432 50.432 0 1 0 100.864 0 50.432 50.432 0 0 0-100.864 0zM338.432 143.36a55.9616 55.9616 0 1 0 111.9232 0 55.9616 55.9616 0 0 0-111.9744 0z m169.0112-4.9152a61.5936 61.5936 0 1 0 123.2384 0 61.5936 61.5936 0 0 0-123.2384 0z m154.7776 69.632a67.1744 67.1744 0 1 0 134.3488 0 67.1744 67.1744 0 0 0-134.3488 0z m110.0288 130.816a72.8064 72.8064 0 1 0 145.5616 0 72.8064 72.8064 0 0 0-145.5616 0z m43.7248 169.472a78.3872 78.3872 0 1 0 156.8256 0 78.3872 78.3872 0 0 0-156.8256 0z" fill="" ></path></symbol><symbol id="v3-img-right" viewBox="0 0 1024 1024"><path d="M884.808356 96.170317c0-17.780969-16.723893-32.209586-37.309744-32.209586-20.586874 0-37.310767 14.428617-37.310767 32.209586V927.20035c0 17.780969 16.723893 32.209586 37.310767 32.209586 20.585851 0 37.309744-14.428617 37.309744-32.209586V96.170317zM263.249101 159.859871c-27.619034-21.278629-50.027393-11.659551-50.027393 22.116717v659.490146c0 33.44881 22.481014 43.322691 50.027393 22.116716l407.352615-313.385476c27.65485-21.242813 27.618011-55.784514 0-76.989465L263.249101 159.859871z m449.327612 260.298398c60.265572 48.751331 60.301388 134.302799 0 183.090968L297.061185 939.297876c-70.976518 57.422827-158.459988-25.322735-158.459989-116.158556V200.267163c0-91.12644 87.445608-173.6172 158.459989-116.158557l415.515528 336.049663zM297.061185 84.10963"  ></path></symbol><symbol id="v3-img-left" viewBox="0 0 1024 1024"><path d="M138.60222 96.170317V927.20035c0 17.780969 16.723893 32.209586 37.309744 32.209586 20.586874 0 37.310767-14.428617 37.310767-32.209586V96.170317c0-17.780969-16.723893-32.209586-37.310767-32.209586-20.585851 0-37.309744 14.428617-37.309744 32.209586z m621.560278 63.689554L352.80886 473.208509c-27.618011 21.205974-27.65485 55.747675 0 76.989465l407.353638 313.385476c27.54638 21.205974 50.027393 11.33107 50.027393-22.116716v-659.490146c-0.001023-33.776268-22.408359-43.395346-50.027393-22.116717z m-33.812084-75.750241c71.013357-57.459666 158.458965 25.032116 158.458965 116.157533v622.872157c0 90.835821-87.482447 173.581384-158.459988 116.158556L310.834886 603.249237c-60.301388-48.78817-60.265572-134.339638 0-183.090968L726.350414 84.10963z m0 0"  ></path></symbol><symbol id="v3-img-zoom-out" viewBox="0 0 1024 1024"><path d="M919.264 905.984l-138.912-138.912C851.808 692.32 896 591.328 896 480c0-229.376-186.624-416-416-416S64 250.624 64 480s186.624 416 416 416c95.008 0 182.432-32.384 252.544-86.208l141.44 141.44a31.904 31.904 0 0 0 45.248 0 32 32 0 0 0 0.032-45.248zM128 480C128 285.92 285.92 128 480 128s352 157.92 352 352-157.92 352-352 352S128 674.08 128 480z"  ></path><path d="M625.792 448H336a32 32 0 0 0 0 64h289.792a32 32 0 1 0 0-64z"  ></path></symbol><symbol id="v3-img-zoom-big" viewBox="0 0 1024 1024"><path d="M919.264 905.984l-138.912-138.912C851.808 692.32 896 591.328 896 480c0-229.376-186.624-416-416-416S64 250.624 64 480s186.624 416 416 416c95.008 0 182.432-32.384 252.544-86.208l141.44 141.44a31.904 31.904 0 0 0 45.248 0 32 32 0 0 0 0.032-45.248zM128 480C128 285.92 285.92 128 480 128s352 157.92 352 352-157.92 352-352 352S128 674.08 128 480z"  ></path><path d="M625.792 448H512v-112a32 32 0 0 0-64 0V448h-112a32 32 0 0 0 0 64H448v112a32 32 0 1 0 64 0V512h113.792a32 32 0 1 0 0-64z"  ></path></symbol><symbol id="v3-img-rotate-left" viewBox="0 0 1024 1024"><path d="M884.565333 431.914667c-3.114667 36.266667-22.784 55.893333-59.008 59.008-35.2-3.114667-54.357333-22.741333-57.472-59.008 3.114667-35.157333 22.272-54.314667 57.472-57.429334 36.224 3.114667 55.893333 22.272 59.008 57.429334z m-97.834666 0c3.114667 24.874667 16.042667 38.826667 38.826666 41.941333 22.741333-2.048 35.712-16.042667 38.826667-41.941333-3.114667-24.832-16.085333-38.272-38.826667-40.362667-22.784 3.114667-35.712 16.597333-38.826666 40.362667z m-59.008 82.346666c-1.024 103.466667-34.688 156.245333-100.906667 158.293334-69.376-1.024-104.021333-53.76-104.021333-158.293334 0.981333-104.576 35.157333-158.421333 102.442666-161.536 67.285333 2.133333 101.461333 55.893333 102.485334 161.493334z m-169.216 0c0 89.002667 22.229333 132.992 66.730666 131.925334 44.501333 1.066667 66.773333-42.922667 66.773334-131.968 0-90.026667-22.784-134.528-68.309334-133.546667-42.453333 3.114667-64.213333 47.658667-65.194666 133.546667z m-184.746667 49.664c-58.026667-5.205333-89.6-39.338667-94.72-102.485333 4.096-67.285333 37.76-103.509333 100.906667-108.714667 72.448-0.981333 108.16 50.218667 107.093333 153.728 0 109.738667-37.76 165.12-113.322667 166.144-45.568-2.090667-74.538667-24.32-86.954666-66.773333l32.597333-10.88c7.253333 36.266667 26.453333 53.845333 57.472 52.821333 48.64-2.090667 73.472-45.056 74.538667-128.853333-15.530667 29.994667-41.429333 45.013333-77.653334 45.013333z m3.072-181.674666c-39.338667 3.114667-60.586667 28.458667-63.658667 76.074666 2.048 47.616 23.296 72.96 63.658667 76.074667 40.362667 0 65.194667-18.645333 74.538667-55.893333 0-65.194667-24.874667-97.28-74.538667-96.256z m135.594667 641.578666C230.186667 1023.829333 0.597333 794.24 0.597333 512v-0.981333h53.973334v0.981333c0 252.501333 205.354667 457.898667 457.813333 457.898667 252.501333 0 457.898667-205.397333 457.898667-457.898667 0-252.458667-205.397333-457.813333-457.856-457.813333A457.088 457.088 0 0 0 159.530667 220.586667l120.533333-0.938667h8.106667l-47.061334 47.786667-167.936 1.365333-1.109333-167.936 47.189333-47.872v131.626667A510.933333 510.933333 0 0 1 512.426667 0.128C794.624 0.128 1024.256 229.76 1024.256 512c0 282.282667-229.632 511.872-511.829333 511.872z"  ></path></symbol><symbol id="v3-img-antetype" viewBox="0 0 1024 1024"><path d="M316 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8zM512 622c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39zM512 482c22.1 0 40-17.9 40-39 0-23.1-17.9-41-40-41s-40 17.9-40 41c0 21.1 17.9 39 40 39z"  ></path><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32z m-40 728H184V184h656v656z"  ></path><path d="M648 672h60c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8z"  ></path></symbol><symbol id="v3-img-rotate-right" viewBox="0 0 1024 1024"><path d="M375.381 562.517c-57.898-5.162-89.472-39.296-94.634-102.4 4.138-67.2 37.76-103.381 100.864-108.586 72.362-1.024 108.032 50.176 107.008 153.6 0 109.61-37.76 164.906-113.238 165.973-45.525-2.133-74.453-24.32-86.869-66.73l32.597-10.838c7.211 36.181 26.368 53.76 57.387 52.736 48.597-2.048 73.387-44.97 74.453-128.768-15.488 29.995-41.386 45.013-77.568 45.013z m3.115-181.504c-39.296 3.072-60.501 28.459-63.573 75.99 2.048 47.573 23.253 72.96 63.573 76.032 40.32 0 65.152-18.603 74.453-55.851 0-65.152-24.832-97.195-74.453-96.17z m145.835 131.84c0.981-104.448 35.114-158.208 102.4-161.322 67.157 2.09 101.29 55.85 102.357 161.322-1.067 103.424-34.688 156.16-100.821 158.251-69.334-1.067-103.936-53.76-103.936-158.25z m169.088 0c0-89.984-22.784-134.4-68.267-133.418-42.41 3.114-64.128 47.616-65.152 133.418 0 88.96 22.187 132.907 66.688 131.84 44.459 1.067 66.73-42.88 66.73-131.84z m75.989-82.218c3.115-35.158 22.23-54.272 57.387-57.387 36.181 3.115 55.893 22.23 58.965 57.387-3.115 36.224-22.784 55.893-58.965 58.965-35.158-3.115-54.272-22.741-57.387-58.965z m96.17 0c-3.071-24.832-16.042-38.23-38.783-40.32-22.742 3.114-35.67 16.554-38.784 40.32 3.114 24.832 16.042 38.826 38.826 41.898 22.699-2.048 35.67-16.042 38.742-41.898z m-354.175 592.64c-281.984 0-511.36-229.376-511.36-511.403C0 229.973 229.419 0.512 511.403 0.512c157.696 0 298.922 71.765 392.789 184.32V54.613l47.147 47.872-1.11 167.766-167.765-1.366-47.061-47.744h8.106l121.558 0.982a456.704 456.704 0 0 0-353.664-167.68c-252.246 0-457.43 205.226-457.43 457.429 0 252.288 205.184 457.515 457.43 457.515S968.875 764.16 968.875 511.872v-0.981h53.888v0.981c0 282.027-229.376 511.403-511.36 511.403z"  ></path></symbol></svg>',l=(l=document.getElementsByTagName("script"))[l.length-1].getAttribute("data-injectcss");if(l&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}function u(){o||(o=!0,r())}t=function(){var e,t=document.createElement("div");t.innerHTML=i,i=null,(t=t.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",(e=document.body).firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(t,e.firstChild):e.appendChild(t))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(t,0):(n=function(){document.removeEventListener("DOMContentLoaded",n,!1),t()},document.addEventListener("DOMContentLoaded",n,!1)):document.attachEvent&&(r=t,a=e.document,o=!1,function e(){try{a.documentElement.doScroll("left")}catch(t){return void setTimeout(e,50)}u()}(),a.onreadystatechange=function(){"complete"==a.readyState&&(a.onreadystatechange=null,u())})}("undefined"!=typeof window?window:global),$((function(){jt(r.value,"mousewheel",y,!1),v(),$((function(){return void 0!==e.url?b(e.url):Array.isArray(e.images)&&e.images.length>0?b(e.images[s.imgIndex]):console.error("images is not Array or Array length is 0")}))}))})),Object.assign(Object.assign(Object.assign({vImagesWrap:r,imgContainer:i},_(s)),_(d)),{handleClose:w,toggleImg:x,initImgSize:v,dragStyle:c,handleScale:m,handleRotate:g,visibleArrowBtn:f,isMultiple:p,handleClickMaskClose:function(e){e.target.classList.contains("img-container")&&w()}})}}),$t=function(e){return W("data-v-50804152"),e=e(),H(),e},Wt={class:"icon img-loading rotate-animation","aria-hidden":"true"},Ht=[$t((function(){return B("use",{"xlink:href":"#v3-img-loading"},null,-1)}))],qt=["src"],Yt=[$t((function(){return B("use",{"xlink:href":"#v3-img-img-error"},null,-1)}))],Qt=[$t((function(){return B("use",{"xlink:href":"#v3-img-close"},null,-1)}))],Jt=[$t((function(){return B("svg",{class:"icon","aria-hidden":"true"},[B("use",{"xlink:href":"#v3-img-left"})],-1)}))],Xt=[$t((function(){return B("svg",{class:"icon","aria-hidden":"true"},[B("use",{"xlink:href":"#v3-img-right"})],-1)}))],Zt={key:3,class:"v3-img-preview-toolbar"},en=[$t((function(){return B("use",{"xlink:href":"#v3-img-zoom-out"},null,-1)}))],tn=[$t((function(){return B("use",{"xlink:href":"#v3-img-zoom-big"},null,-1)}))],nn=[$t((function(){return B("use",{"xlink:href":"#v3-img-antetype"},null,-1)}))],rn=[$t((function(){return B("use",{"xlink:href":"#v3-img-rotate-left"},null,-1)}))],an=[$t((function(){return B("use",{"xlink:href":"#v3-img-rotate-right"},null,-1)}))];!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".icon[data-v-50804152] {\n  width: 1em;\n  height: 1em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\n.v-images-wrap[data-v-50804152] {\n  z-index: 200;\n  user-select: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  overflow: hidden;\n  background: rgba(0, 0, 0, 0.3);\n  backdrop-filter: blur(3px);\n  color: #fff;\n}\n.v-images-wrap[data-v-50804152] .img-loading[data-v-50804152],\n.v-images-wrap[data-v-50804152] .img-content[data-v-50804152] {\n  font-size: 50px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  transition: all 0.2s;\n  cursor: move;\n}\n.v-images-wrap[data-v-50804152] .img-container[data-v-50804152] {\n  z-index: 201;\n  position: absolute;\n  height: 100vh;\n  width: 100vw;\n  top: 0;\n  left: 0;\n  text-align: center;\n}\n.v-images-wrap[data-v-50804152] .img-container[data-v-50804152] .img-content[data-v-50804152] {\n  max-width: 100%;\n  max-height: 100%;\n}\n.v-images-wrap[data-v-50804152] .img-container[data-v-50804152] .img-error[data-v-50804152] {\n  font-size: 300px;\n  color: #d8d8d8;\n}\n.v-images-wrap[data-v-50804152] .rotate-animation[data-v-50804152] {\n  animation: rotate-50804152 1.5s linear infinite;\n}\n.v-images-wrap[data-v-50804152] .arrow[data-v-50804152] {\n  width: 42px;\n  height: 42px;\n  text-align: center;\n  line-height: 42px;\n  position: absolute;\n  top: 50%;\n  border-radius: 50%;\n  transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  font-size: 24px;\n  cursor: pointer;\n  transition: all 0.2s;\n  z-index: 280;\n  background: rgba(0, 0, 0, 0.3);\n}\n.v-images-wrap[data-v-50804152] .arrow[data-v-50804152][data-v-50804152]:hover {\n  opacity: 0.8;\n  transform: translateY(-50%) scale(1.2);\n}\n.v-images-wrap[data-v-50804152] .arrow-left[data-v-50804152] {\n  left: 50px;\n}\n.v-images-wrap[data-v-50804152] .arrow-right[data-v-50804152] {\n  right: 50px;\n}\n.v-images-wrap[data-v-50804152] .close-btn[data-v-50804152] {\n  z-index: 205;\n  position: absolute;\n  right: 50px;\n  top: 50px;\n  width: 36px;\n  height: 36px;\n  font-size: 22px;\n  line-height: 36px;\n  text-align: center;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: all 0.2s;\n  color: #e7e5e5;\n  background: rgba(0, 0, 0, 0.3);\n}\n.v-images-wrap[data-v-50804152] .close-btn[data-v-50804152][data-v-50804152]:hover {\n  opacity: 0.8;\n  transform: scale(1.2);\n}\n.v-images-wrap[data-v-50804152] .v3-img-preview-toolbar[data-v-50804152] {\n  z-index: 205;\n  position: absolute;\n  bottom: 10%;\n  font-size: 26px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  cursor: pointer;\n}\n.v-images-wrap[data-v-50804152] .v3-img-preview-toolbar[data-v-50804152] section[data-v-50804152] {\n  height: 44px;\n  bottom: 10%;\n  padding: 0 22px;\n  display: flex;\n  align-items: center;\n  border-radius: 22px;\n  background: rgba(0, 0, 0, 0.3);\n  color: #c3c3c3;\n}\n.v-images-wrap[data-v-50804152] .v3-img-preview-toolbar[data-v-50804152] section[data-v-50804152] svg[data-v-50804152] {\n  box-sizing: content-box;\n  padding: 0 10px;\n  transition: all 0.2s;\n}\n.v-images-wrap[data-v-50804152] .v3-img-preview-toolbar[data-v-50804152] section[data-v-50804152] svg[data-v-50804152][data-v-50804152]:hover {\n  transform: scale(1.2);\n}\n@keyframes rotate-50804152 {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n"),Gt.render=function(e,t,n,r,a,o){return j(),P(V,{name:"fade"},{default:z((function(){return[e.visible?(j(),I("div",{key:0,class:"v-images-wrap",onClick:t[10]||(t[10]=function(){return e.handleClickMaskClose&&e.handleClickMaskClose.apply(e,arguments)}),ref:"vImagesWrap"},[M((j(),I("svg",Wt,Ht,512)),[[R,"loading"===e.imgState]]),B("div",{ref:"imgContainer",style:F(e.dragStyle),class:"img-container"},[M(B("img",{class:"img-content",onDragstart:t[0]||(t[0]=D((function(){}),["prevent"])),src:e.src,style:F("transform: scale(".concat(e.imgScale,") rotate(").concat(e.imgRotate,"deg);")),alt:""},null,44,qt),[[R,"success"===e.imgState]]),M((j(),I("svg",{class:"icon img-content img-error",onDragstart:t[1]||(t[1]=D((function(){}),["prevent"])),"aria-hidden":"true",style:F("transform: scale(".concat(e.imgScale,") rotate(").concat(e.imgRotate,"deg);"))},Yt,36)),[[R,"error"===e.imgState]])],4),e.showCloseBtn?(j(),I("svg",{key:0,class:"icon close-btn","aria-hidden":"true",onClick:t[2]||(t[2]=D((function(){return e.handleClose&&e.handleClose.apply(e,arguments)}),["stop"]))},Qt)):N("",!0),e.visibleArrowBtn?(j(),I("div",{key:1,class:"arrow arrow-left",onClick:t[3]||(t[3]=function(t){return e.toggleImg(!1)})},Jt)):N("",!0),e.visibleArrowBtn?(j(),I("div",{key:2,class:"arrow arrow-right",onClick:t[4]||(t[4]=function(t){return e.toggleImg(!0)})},Xt)):N("",!0),e.showToolbar?(j(),I("div",Zt,[B("section",null,[(j(),I("svg",{class:"icon","aria-hidden":"true",onClick:t[5]||(t[5]=function(t){return e.handleScale(-.1,!1)})},en)),(j(),I("svg",{class:"icon","aria-hidden":"true",onClick:t[6]||(t[6]=function(t){return e.handleScale(.1,!1)})},tn)),(j(),I("svg",{class:"icon","aria-hidden":"true",onClick:t[7]||(t[7]=function(){return e.initImgSize&&e.initImgSize.apply(e,arguments)})},nn)),(j(),I("svg",{class:"icon","aria-hidden":"true",onClick:t[8]||(t[8]=function(t){return e.handleRotate(!1)})},rn)),(j(),I("svg",{class:"icon","aria-hidden":"true",onClick:t[9]||(t[9]=function(t){return e.handleRotate(!0)})},an))])])):N("",!0)],512)):N("",!0)]})),_:1})},Gt.__scopeId="data-v-50804152";var on={},ln="v3-img-preview-container-id",un={};function cn(e){if(un._instance)return!1;Array.isArray(e)&&(e={images:e}),"string"==typeof e&&(e={url:e}),e=Object.assign(Object.assign({},on),e);var t=document.getElementById(ln);return t||((t=document.createElement("div")).id=ln,document.body.appendChild(t)),(un=U(Gt,Object.assign(Object.assign({},e),{on_unmount_v3_ima_preview_app:function(){return un.unmount()}}))).mount(t),un}Gt.install=function(e,t){on=t,e.config.globalProperties.$v3ImgPreviewFn=cn};var sn=J(),fn=ue(),dn=C(!1),pn=C(!1),hn=C(!1),vn=C(!1),gn=C(!1);function mn(){return{openVideo:function(){dn.value=!0},dialogVideoVisible:dn,openText:function(){pn.value=!0},dialogTextVisible:pn,openOffice:function(){hn.value=!0},dialogOfficeVisible:hn,openImage:function(e){var t=[],n=0;"only"===sn.zfileConfig.imagePreview.mode?t.push(e.url):fn.filterFileByType("image").forEach((function(r,a){e.name===r.name&&(n=a),t.push(r.url)})),cn({images:t,index:n})},openAudio:function(){fn.updateAudioList(fn.filterFileByType("audio"))},openPdf:function(){vn.value=!0},dialogPdfVisible:vn,open3d:function(){gn.value=!0},dialog3dVisible:gn}}var yn=oe().encodeAllIgnoreSlashes,bn=S(),wn=bn.routerRef,xn=bn.fullpath,kn=bn.storageKey,Sn=bn.currentPath,Cn=tt(),En=Cn.getPathPwd,An=Cn.putPathPwd,On=bt().storageListAsFileList,Tn=ue(),Ln=te(),_n=s(Ln.globalConfig.siteName),jn=J(),Pn=mn(),zn=Pn.openAudio,In=Pn.openImage,Mn=Pn.openOffice,Rn=Pn.openPdf,Bn=Pn.openText,Dn=Pn.openVideo,Fn=Pn.open3d,Nn=C(!1),Vn=C(!1),Un=T([]);if(0===Un.length)for(var Kn=0;Kn<jn.zfileConfig.skeleton.size;Kn++)Un.push({});var Gn=T({path:"",password:"",orderBy:"",orderDirection:""}),$n=C(!1),Wn=ne(),Hn=Wn.selectRows,qn=Wn.clearSelection;function Yn(){var e=function(e){if(kn.value){Nn.value=!0,Gn.path=Sn.value;var n=e||{};n.storageKey=kn.value,n.path=Sn.value,n.password=n.password||En(),n.orderBy=Gn.orderBy,n.orderDirection=Gn.orderDirection;var r=kn.value;re(n).then((function(e){var a=e.data.passwordPattern;if(An(a,n.password),r===kn.value){var o=e.data.files,i=Gn.path;if(""!==i&&"/"!==i){var l=ct.basename(ct.resolve(Sn.value,"../"));o.unshift({name:l||"/",path:ct.resolve(i,"../"),type:"BACK"})}Tn.updateFileList(o),Nn.value=!1,Vn.value=!0,Hn.value=[],xn.value?_n.value=Ln.globalConfig.siteName+" | "+xn.value[xn.value.length-1]:_n.value=Ln.globalConfig.siteName+" | 首页",t(n)}})).catch((function(e){var t=e.response.data;t.code===ee.responseCode.INVALID_PASSWORD?(d.warning("密码错误，请重新输入！"),a()):t.code===ee.responseCode.REQUIRED_PASSWORD?(d.warning("此文件夹需要密码，请输入密码！"),a()):d.error(t.msg)}))}},t=function(e){var t={storageKey:kn.value,path:Sn.value,password:e.password};ae(t).then((function(e){Ln.updateFolderConfig(e.data),kn.value!==Tn.oldStorageKey&&Tn.updateOldStorageKey(kn.value)})).finally((function(){$n.value=!0}))},n=E((function(){var e=jn.zfileConfig.skeleton.enable,t=jn.zfileConfig.skeleton.show;return!!e&&(("always"===t||!Vn.value)&&Nn.value)})),r=E((function(){return!n.value&&Nn.value})),a=function(){ie.prompt("此文件夹已加密，请输入密码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"password",inputValidator:function(e){return!!e},inputErrorMessage:"密码不能为空."}).then((function(t){var n=t.value;e({password:n})})).catch((function(){if("/"!==Gn.path&&""!==Gn.path||!0!==Ln.globalConfig.rootShowStorage){var e=ct.resolve(Gn.path,"../");wn.value.push("/"+kn.value+e)}else Tn.updateFileList(On.value),wn.value.push("/"),_n.value=Ln.globalConfig.siteName+" | 首页",Nn.value=!1}))};return{loadFile:e,openRow:function(e){if(e.name)if(Tn.updateCurrentClickRow(e),"FILE"===e.type){var t=ur().batchDownloadFile;switch(e.fileType){case"video":Dn();break;case"image":In(e);break;case"text":Bn();break;case"audio":zn(e);break;case"office":Mn(e);break;case"pdf":Rn(e);break;case"three3d":Fn(e);break;default:t(e)}qn()}else if("ROOT"===e.type)wn.value.push(e.path);else if("BACK"===e.type){var n=qe("/"+kn.value+"/"+e.path);n=yn(n),wn.value.push(n)}else{var r=qe("/"+kn.value+"/"+e.path+"/"+e.name);r=yn(r),wn.value.push(r)}},searchParam:Gn,sortChangeMethod:function(t){var n=t.prop,r=t.order;Gn.orderBy=n,Gn.orderDirection="descending"===r?"desc":"asc",e()},skeletonLoading:n,skeletonData:Un,basicLoading:r,initStorageConfig:$n,loadFileConfig:t}}var Qn=ue(),Jn=te(),Xn=S(),Zn=Xn.storageKey,er=Xn.currentPath,tr=ne(),nr=tr.selectRows,rr=tr.selectRow,ar=tr.selectFolders,or=tr.selectFiles,ir=tt().getPathPwd,lr=X();function ur(){var e=Yn().loadFile,t=function(e){window.open(e)},n=function(e){var t=document.createElement("iframe");t.style.display="none",t.style.height=0,t.src=e,document.body.appendChild(t),setTimeout((function(){t.remove()}),3e5)};return{batchDownloadFile:function(e){var r;if(nr.value||0!==nr.value.length){var a,o,i,l,u=(o={isChrome:!1,tips:""},i=lr.browser,l=lr.version,"Chrome"===i?o.isChrome=!0:o.tips='<br><span class="text-gray-500 text-xs">检测到当前浏览器为 <b>'.concat(i,"-").concat(l,"</b>, 可能不支持此功能，建议使用谷歌浏览器!</span>"),o);null!==(r=e)&&void 0!==r&&r.name?a='是否确认下载文件 <span class="text-blue-500">'.concat(e.name,"</span> ？"):1===nr.value.length?(a='是否确认下载文件 <span class="text-blue-500">'.concat(nr.value[0].name,"</span> ？"),e=nr.value[0]):nr.value.length>1&&(a="是否确认批量下载 ".concat(nr.value.length," 个文件？"),u.isChrome||(a+=u.tips)),ie.confirm(a,"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"info",callback:function(r){var a;"confirm"===r&&(null!==(a=e)&&void 0!==a&&a.name?(console.log("进行指定文件下载, 文件:",e),t(e.url)):nr.value.forEach((function(e){"FILE"===e.type&&(console.log("批量选中文件下载, 文件:",e),n(e.url))})))}})}else d.warning("请至少选择一个文件")},rename:function(){var t=rr.value;null!==t?ie.prompt("将 <b>".concat(t.name,"</b> 修改为："),"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",inputValue:t.name,inputValidator:function(e){return!!e},inputErrorMessage:"模板名称不能为空."}).then((function(n){var r,a=n.value,o={storageKey:Zn.value,path:t.path,name:t.name,newName:a};"FILE"===t.type?r=rt:"FOLDER"===t.type&&(r=at);var i=le.service({fullscreen:!0,text:"重命名中...",background:"rgba(255, 255, 255, 0.6)"});r(o).then((function(){d.success("重命名成功")})).finally((function(){i.close(),e()}))})):d.warning("请先选中一个文件或文件夹！")},newFolder:function(){ie.prompt("在 <b>".concat(er.value,"</b> 下创建文件夹，请输入要创建的文件夹名称"),"提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",draggable:!0,inputValidator:function(e){return e?!e.includes("/")||"文件夹名称不能包含 /":"文件夹名称不能为空"}}).then((function(t){var n,r=t.value,a={storageKey:Zn.value,path:er.value,name:r};(n=a,n.password=nt(n.path),c({url:"/api/file/operator/mkdir",method:"post",data:n})).then((function(){d.success("创建成功")})).finally((function(){e()}))}))},moveTo:function(){d.warning("暂未实现")},copyTo:function(){d.warning("暂未实现")},batchDelete:function(){if(Jn.permission.delete)if(0!==nr.value.length){var t=1===nr.value.length?"是否确认删除 ":"是否确认批量删除 ";ar.value.length>0&&(t+=" "+ar.value.length+" 个文件夹"),ar.value.length>0&&or.value.length>0&&(t+="，"),or.value.length>0&&(t+=or.value.length+" 个文件"),ar.value.length>0&&["s3","tencent","aliyun","qiniu","minio","huawei","upyun"].includes(Qn.currentStorageSource.type.key)&&(t+=" (不支持删除非空文件夹)"),t+="?",ie.confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",draggable:!0,callback:function(t){if("confirm"===t){var n={storageKey:Zn.value,deleteItems:[]};nr.value.forEach((function(e){n.deleteItems.push({path:e.path,name:e.name,type:e.type,password:ir(e.path)})}));var r=le.service({text:"删除中...",background:"rgba(0, 0, 0, .3)"});(a=n,c({url:"/api/file/operator/delete/batch",method:"post",data:a})).then((function(t){d.success(t.msg),e()})).finally((function(){r.close()}))}var a}})}else d.warning("请先至少选中一个文件或文件夹！")}}}J();var cr=te(),sr=ue(),fr=b("Meta"),dr=b("Control"),pr=b("Shift"),hr=E((function(){return fr.value||dr.value})),vr=ur().batchDelete,gr=Yn(),mr=gr.skeletonLoading,yr=gr.openRow,br=ne(),wr=br.selectRows,xr=br.selectRow,kr=br.clearSelection,Sr=br.toggleRowSelection,Cr=br.toggleAllSelection;window.addEventListener("keydown",(function(e){if("Escape"===e.key&&Ar())kr();else if("a"===e.key&&(e.metaKey||e.ctrlKey)&&Ar())e.preventDefault(),Cr();else if("Delete"===e.key&&Ar()){var t;vr&&(null==wr||null===(t=wr.value)||void 0===t?void 0:t.length)>0&&(e.preventDefault(),vr())}else"Backspace"===e.key&&Ar()&&sr.fileList.length>0&&"BACK"===sr.fileList[0].type&&Er(sr.fileList[0])}),!1);var Er,Ar=function(){return Or()&&!1===Tr()},Or=function(){return document.querySelector(".zfile-index-body:hover")},Tr=function(){return!!document.querySelector(".el-popup-parent--hidden")},Lr=C(-1),_r=C(-1),jr=w().pressed;A((function(){return jr.value}),(function(e,t){!1===e&&!0===t&&(Lr.value=-1,_r.value=-1)}));var Pr=ue(),zr=te(),Ir=C(!1),Mr=!1,Rr=C(!1),Br=C(""),Dr=T([]),Fr=T([]),Nr=new Map,Vr=new Map,Ur=0,Kr={error:1,uploading:2,waiting:3,finished:4}}}}))}();
