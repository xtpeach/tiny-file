import{h as g,e as x,z as v,a8 as b,j as p,o as l,k as m,l as o,p as a,m as d}from"./index.e2144cf2.js";import"./base.a4c7cecc.js";import{b as S,c as C,d as y,_ as w}from"./Footer.ccc8dba9.js";/* empty css                *//* empty css               *//* empty css                     *//* empty css              */import"./tooltip.f118fcb0.js";/* empty css               */import"./SvgIcon.26213fd5.js";/* empty css            *//* empty css               *//* empty css                  */import{u as M,d as k}from"./home.e9df3a69.js";import"./useCommon.cd9f3905.js";import"./useFileUpload.14b4d7b4.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";/* empty css                      *//* empty css               *//* empty css              */import{E as T}from"./request.538cacc7.js";import{c as e}from"./common.83b6e491.js";import"./index.8d3be363.js";import"./index.911dd79c.js";import"./index.f710691a.js";import"./event.776e7e11.js";import"./index.d27b8c90.js";import"./scroll.2d8cca42.js";import"./event.3ec63147.js";import"./focus-trap.3717ddd7.js";import"./validator.e67486a3.js";import"./index.4971e309.js";import"./index.f7e8a145.js";import"./directive.a214ca06.js";const V={__name:"file_simple",setup(z){let i=M();g(()=>{c()});let f=x(),r=v(!1);const c=()=>{k().then(t=>{if(!t.data.installed){f.push("/install");return}i.updateGlobalConfig(t.data),t.data.customAudioSuffix&&(e.constant.fileTypeMap.audio=t.data.customAudioSuffix.split(",")),t.data.customImageSuffix&&(e.constant.fileTypeMap.image=t.data.customImageSuffix.split(",")),t.data.customTextSuffix&&(e.constant.fileTypeMap.text=t.data.customTextSuffix.split(",")),t.data.customVideoSuffix&&(e.constant.fileTypeMap.video=t.data.customVideoSuffix.split(",")),r.value=!0}).catch(t=>{t.message==="Network Error"&&T.error("\u52A0\u8F7D\u5931\u8D25\uFF0C\u65E0\u6CD5\u8FDE\u63A5\u5230\u670D\u52A1\u7AEF\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458.")})};return(t,B)=>{const s=b("router-view"),u=S,_=C,h=y;return p(r)?(l(),m(h,{key:0},{default:o(()=>{var n;return[a(u,null,{default:o(()=>[a(s)]),_:1}),(n=p(i).globalConfig)!=null&&n.icp?(l(),m(_,{key:0},{default:o(()=>[a(w)]),_:1})):d("",!0)]}),_:1})):d("",!0)}}};var ct=E(V,[["__scopeId","data-v-d7dceab6"]]);export{ct as default};
