import{ao as L,i as I,a5 as b,a7 as C,a4 as h,a6 as B,S as p,h as g,l as Y,u as X}from"./index.8d3be363.js";import{I as G,ac as U,a2 as z,q as W,w as K,ah as V,E as $,p as j,G as w,ab as q}from"./index.e2144cf2.js";import{t as J}from"./base.a4c7cecc.js";import{a as Q}from"./scroll.2d8cca42.js";var c=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(c||{});const de=(e,o,n)=>{let s={offsetX:0,offsetY:0};const d=i=>{const r=i.clientX,A=i.clientY,{offsetX:l,offsetY:m}=s,a=e.value.getBoundingClientRect(),f=a.left,E=a.top,N=a.width,O=a.height,x=document.documentElement.clientWidth,D=document.documentElement.clientHeight,R=-f+l,k=-E+m,_=x-f-N+l,H=D-E-O+m,v=T=>{const S=Math.min(Math.max(l+T.clientX-r,R),_),M=Math.min(Math.max(m+T.clientY-A,k),H);s={offsetX:S,offsetY:M},e.value.style.transform=`translate(${L(S)}, ${L(M)})`},y=()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",y)},u=()=>{o.value&&e.value&&o.value.addEventListener("mousedown",d)},t=()=>{o.value&&e.value&&o.value.removeEventListener("mousedown",d)};G(()=>{U(()=>{n.value?u():t()})}),z(()=>{t()})},ue=e=>{if(W(e)||J("[useLockscreen]","You need to pass a ref param to this function"),!I||b(document.body,"el-popup-parent--hidden"))return;let o=0,n=!1,s="0",d=0;const u=()=>{B(document.body,"el-popup-parent--hidden"),n&&(document.body.style.paddingRight=s)};K(e,t=>{if(!t){u();return}n=!b(document.body,"el-popup-parent--hidden"),n&&(s=document.body.style.paddingRight,d=Number.parseInt(C(document.body,"paddingRight"),10)),o=Q();const i=document.documentElement.clientHeight<document.body.scrollHeight,r=C(document.body,"overflowY");o>0&&(i||r==="scroll")&&n&&(document.body.style.paddingRight=`${d+o}px`),h(document.body,"el-popup-parent--hidden")}),V(()=>u())},Z=e=>{if(!e)return{onClick:p,onMousedown:p,onMouseup:p};let o=!1,n=!1;return{onClick:t=>{o&&n&&e(t),o=n=!1},onMousedown:t=>{o=t.target===t.currentTarget},onMouseup:t=>{n=t.target===t.currentTarget}}},P=g({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:Y([String,Array,Object])},zIndex:{type:Y([String,Number])}}),F={click:e=>e instanceof MouseEvent};var ee=$({name:"ElOverlay",props:P,emits:F,setup(e,{slots:o,emit:n}){const s=X("overlay"),d=r=>{n("click",r)},{onClick:u,onMousedown:t,onMouseup:i}=Z(e.customMaskEvent?void 0:d);return()=>e.mask?j("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:u,onMousedown:t,onMouseup:i},[w(o,"default")],c.STYLE|c.CLASS|c.PROPS,["onClick","onMouseup","onMousedown"]):q("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[w(o,"default")])}});const ie=ee;export{ie as E,Z as a,ue as b,de as u};
