!function(){var n=document.createElement("style");n.innerHTML=".el-button[data-v-1bd449c7],.el-input[data-v-1bd449c7] input{height:35px}\n",document.head.appendChild(n),System.register(["./base-legacy.42deb1c2.js","./loading-legacy.fc9141ee.js","./ZFormItem-legacy.de82453a.js","./button-legacy.de6f77a5.js","./input-number-legacy.d8fda9cb.js","./input-legacy.1469b40d.js","./index-legacy.5f3309bc.js","./index-legacy.36e5d91f.js","./admin-setting-legacy.996e7b8d.js","./request-legacy.2cf0cbaa.js","./route-block-legacy.9534e494.js","./plugin-vue_export-helper-legacy.7bb61c33.js","./index-legacy.53a36cc9.js","./index-legacy.9da1c355.js","./index-legacy.e376017f.js","./BadgeCheckIcon-legacy.b7a329d3.js","./directive-legacy.10a2ac38.js","./index-legacy.61ab75a6.js","./index-legacy.db387664.js","./scroll-legacy.9150773b.js","./event-legacy.0bfbd831.js","./focus-trap-legacy.c22d27e1.js","./validator-legacy.9c827f10.js","./index-legacy.2783f16d.js","./event-legacy.39ad8904.js","./index-legacy.886e1b44.js"],(function(n){"use strict";var e,t,a,i,o,u,c,l,r,f,d,s,m,p,g,v,y,b,x,j,V,_,h,w,U,k,D,C;return{setters:[function(n){e=n.E},function(){},function(n){t=n.Z,a=n.a},function(){},function(){},function(){},function(n){i=n.aO,o=n.Y,u=n.aP},function(n){c=n.o,l=n.k,r=n.p,f=n.aq,d=n.f,s=n.z,m=n.w,p=n.j,g=n.n,v=n.l,y=n.m,b=n.a},function(n){x=n.l,j=n.u},function(n){V=n.E},function(n){_=n.b},function(n){h=n._},function(n){w=n.E},function(n){U=n.E},function(n){k=n.E},function(n){D=n.r},function(n){C=n.v},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){function z(n,e){return c(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[r("path",{"fill-rule":"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])}var B=b(" 站点信息 "),E=b(" 请填写您的站点信息 "),L=b("此地址用于生成直链及本次存储下载使用，请务必保持和服务端地址一样 (需写 http(s):// 协议头)"),F=b("前后端分离后，需配置此地址，会影响 401、403、404 页面的跳转 (需写 http(s):// 协议头，未前后端分离请保持为空)"),N=b("用于管理员页面右上角头像地址，推荐尺寸为 35 * 35."),T=b("保存设置"),q={__name:"site-setting",setup:function(n){var b=d(),_=function(){var n=f(x,{formatResult:function(n){return n.data}}),e=n.data,t=n.loading,a=n.reload,i=f(j,{manual:!0,onSuccess:function(){V({message:"保存成功",type:"success"})}}),o=i.loading,u=i.run;return{data:e,dataLoading:t,reload:a,saveData:function(){u(e.value)},saveLoading:o}}(),h=_.data,q=_.dataLoading,I=_.saveData,S=_.saveLoading,M=s({siteName:[{required:!0,message:"请输入站点名称"}],domain:[{required:!0,message:"请输入后端站点域名"}],frontDomain:[],avatar:[{type:"url",message:"请输入正确的头像地址，需以 http 或 https 开头"}]}),Z=s(),A=function(){Z.value.validate((function(n){n&&I()}))};return m((function(){return q.value}),(function(n,e){if(!0===e){var t=b.zfileConfig.baseUrl||window.location.origin,a=h.value.domain;if(t!==a)w.confirm("检测到服务端地址为 ".concat(t,"，当前配置站点域名为 ").concat(a,"，是否自动进行修正？（不修正可能会影响下载、文件夹加密和文档预览功能）"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(n){"confirm"===n&&(h.value.domain=t,A())}});else{var i=h.value.frontDomain,o=window.location.origin;""!==b.zfileConfig.baseUrl&&i!==o&&w.confirm("检测到当前为前后端分离模式，访问域名为 ".concat(o,"，当前配置前端站点域名为 ").concat(i,"，是否自动进行修正？（不修正可能会防盗链功能）"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(n){"confirm"===n&&(h.value.frontDomain=o,A())}})}}})),function(n,f){var d=U,s=t,m=k,b=e,x=a,j=C;return p(h)?g((c(),l(x,{key:0,model:p(h),rules:p(M),ref_key:"siteSettingForm",ref:Z},{"form-title":v((function(){return[B]})),"form-sub-title":v((function(){return[E]})),footer:v((function(){return[r(b,{type:"primary",size:"default",icon:p(D),onClick:A},{default:v((function(){return[T]})),_:1},8,["icon"])]})),default:v((function(){return[r(s,{prop:"siteName",label:"站点名称"},{default:v((function(){return[r(d,{id:"siteName","prefix-icon":p(i),modelValue:p(h).siteName,"onUpdate:modelValue":f[0]||(f[0]=function(n){return p(h).siteName=n})},null,8,["prefix-icon","modelValue"])]})),_:1}),r(s,{prop:"domain",label:"后端站点域名"},{tips:v((function(){return[L]})),default:v((function(){return[r(d,{id:"domain","prefix-icon":p(o),modelValue:p(h).domain,"onUpdate:modelValue":f[1]||(f[1]=function(n){return p(h).domain=n})},null,8,["prefix-icon","modelValue"])]})),_:1}),r(s,{prop:"frontDomain",label:"前端站点域名"},{tips:v((function(){return[F]})),default:v((function(){return[r(d,{"prefix-icon":p(o),modelValue:p(h).frontDomain,"onUpdate:modelValue":f[2]||(f[2]=function(n){return p(h).frontDomain=n})},null,8,["prefix-icon","modelValue"])]})),_:1}),r(s,{prop:"avatar",label:"头像地址"},{tips:v((function(){return[N]})),default:v((function(){return[r(d,{id:"avatar","prefix-icon":p(u),modelValue:p(h).avatar,"onUpdate:modelValue":f[3]||(f[3]=function(n){return p(h).avatar=n})},null,8,["prefix-icon","modelValue"])]})),_:1}),r(s,{label:"备案号"},{default:v((function(){return[r(d,{id:"icp","prefix-icon":p(z),modelValue:p(h).icp,"onUpdate:modelValue":f[4]||(f[4]=function(n){return p(h).icp=n})},null,8,["prefix-icon","modelValue"])]})),_:1}),r(s,{label:"最大同时上传文件数"},{default:v((function(){return[r(m,{id:"maxFileUploads",modelValue:p(h).maxFileUploads,"onUpdate:modelValue":f[5]||(f[5]=function(n){return p(h).maxFileUploads=n}),min:1,max:99},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])),[[j,p(S)]]):y("",!0)}}};"function"==typeof _&&_(q);n("default",h(q,[["__scopeId","data-v-1bd449c7"]]))}}}))}();
