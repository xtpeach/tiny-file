var Z=Object.defineProperty,$=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var I=(e,o,l)=>o in e?Z(e,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[o]=l,D=(e,o)=>{for(var l in o||(o={}))G.call(o,l)&&I(e,l,o[l]);if(g)for(var l of g(o))_.call(o,l)&&I(e,l,o[l]);return e},x=(e,o)=>$(e,q(o));import{h as A,o as j,l as H,Z as J,z as K,G as Q,ao as W,aA as X,r as P,i as Y}from"./index.8d3be363.js";import{U as E}from"./event.776e7e11.js";import{b as T}from"./base.a4c7cecc.js";import{b as R}from"./index.d27b8c90.js";import{z as f,A as ee,w as h,a5 as oe,I as le,g as te}from"./index.e2144cf2.js";const ne=A({center:{type:Boolean,default:!1},closeIcon:{type:j,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),de={close:()=>!0},re=A(x(D({},ne),{appendToBody:{type:Boolean,default:!1},beforeClose:{type:H(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}})),ye={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[E]:e=>J(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},me=(e,o)=>{const n=te().emit,{nextZIndex:p}=K();let C="";const F=T(),O=T(),a=f(!1),d=f(!1),i=f(!1),r=f(e.zIndex||p());let s,u;const k=Q("namespace",X),w=ee(()=>{const t={},c=`--${k.value}-dialog`;return e.fullscreen||(e.top&&(t[`${c}-margin-top`]=e.top),e.width&&(t[`${c}-width`]=W(e.width))),t});function S(){n("opened")}function z(){n("closed"),n(E,!1),e.destroyOnClose&&(i.value=!1)}function N(){n("close")}function b(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=P(()=>B(),e.openDelay):B()}function y(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=P(()=>v(),e.closeDelay):v()}function m(){function t(c){c||(d.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(t):y()}function M(){e.closeOnClickModal&&m()}function B(){!Y||(a.value=!0)}function v(){a.value=!1}function L(){n("openAutoFocus")}function V(){n("closeAutoFocus")}e.lockScroll&&R(a);function U(){e.closeOnPressEscape&&m()}return h(()=>e.modelValue,t=>{t?(d.value=!1,b(),i.value=!0,n("open"),r.value=e.zIndex?r.value++:p(),oe(()=>{o.value&&(o.value.scrollTop=0)})):a.value&&y()}),h(()=>e.fullscreen,t=>{!o.value||(t?(C=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=C)}),le(()=>{e.modelValue&&(a.value=!0,i.value=!0,b())}),{afterEnter:S,afterLeave:z,beforeLeave:N,handleClose:m,onModalClick:M,close:y,doClose:v,onOpenAutoFocus:L,onCloseAutoFocus:V,onCloseRequested:U,titleId:F,bodyId:O,closed:d,style:w,rendered:i,visible:a,zIndex:r}};export{de as a,re as b,ye as c,ne as d,me as u};
