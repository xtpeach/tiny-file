!function(){var e=document.createElement("style");e.innerHTML=".el-button[data-v-6be252db],.el-input[data-v-6be252db] input{height:35px}\n",document.head.appendChild(e),System.register(["./base-legacy.42deb1c2.js","./loading-legacy.fc9141ee.js","./ZFormItem-legacy.de82453a.js","./input-legacy.1469b40d.js","./tooltip-legacy.f5af8fcd.js","./popper-legacy.59994c93.js","./image-viewer-legacy.9d4545ff.js","./button-legacy.de6f77a5.js","./radio-legacy.53b178ff.js","./switch-legacy.96b9f14f.js","./index-legacy.5f3309bc.js","./admin-setting-legacy.996e7b8d.js","./index-legacy.36e5d91f.js","./vue3-clipboard.esm-bundler-legacy.fd707006.js","./request-legacy.2cf0cbaa.js","./index-legacy.53a36cc9.js","./route-block-legacy.9534e494.js","./plugin-vue_export-helper-legacy.7bb61c33.js","./index-legacy.77ebc7ec.js","./index-legacy.9da1c355.js","./index-legacy.a940d7b6.js","./directive-legacy.10a2ac38.js","./index-legacy.61ab75a6.js","./index-legacy.2783f16d.js","./debounce-legacy.5562f648.js","./scroll-legacy.9150773b.js","./event-legacy.39ad8904.js","./index-legacy.db387664.js","./event-legacy.0bfbd831.js","./focus-trap-legacy.c22d27e1.js","./validator-legacy.9c827f10.js"],(function(e){"use strict";var n,t,o,i,u,c,l,a,r,f,d,s,y,g,m,v,b,p,V,j,k,_,x,h,C,M,w,A,S,B,E,F,T,L,U;return{setters:[function(e){n=e.E},function(){},function(e){t=e.Z,o=e.a},function(){},function(){},function(){},function(e){i=e.E},function(){},function(e){u=e.E},function(){},function(e){c=e.b4},function(e){l=e.g,a=e.v,r=e.l,f=e.d},function(e){d=e.z,s=e.aq,y=e.w,g=e.j,m=e.n,v=e.o,b=e.k,p=e.l,V=e.p,j=e.W,k=e.c,_=e.m,x=e.a,h=e.s,C=e.x,M=e.b},function(e){w=e.t},function(e){A=e.E},function(e){S=e.E},function(e){B=e.b},function(e){E=e._},function(e){F=e.E},function(e){T=e.E},function(e){L=e.E},function(e){U=e.v},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var z=d({});function D(){var e=s(r,{formatResult:function(e){return e.data}}),n=e.data,t=e.reload,o=s(f,{manual:!0,onSuccess:function(){A({message:"保存成功",type:"success"})}}),i=o.loading,u=o.run,c=function(){l().then((function(e){z.value=e.data}))};return{data:n,reload:t,saveData:function(){u(n.value)},saveLoading:i,load2FAInfo:c,twoFAData:z,copyTwoFASecret:function(){w(z.value.secret).then((function(){A.success("复制成功")}))},verifyCodeAndBind:function(){a(z.value).then((function(e){A.success("绑定成功"),t()}))},rebind:function(){n.value.loginVerifySecret="",c()},cancelBind:function(){S.confirm("是否确认取消绑定，确认后将自动恢复为图形验证码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"success",callback:function(e){"confirm"===e&&(n.value.loginVerifySecret="",n.value.loginVerifyMode="image")}})},validBind:function(){S.prompt("请输入双因素认证 APP 中的验证码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:function(e){return!!e},inputErrorMessage:"验证码不能为空."}).then((function(e){var t=e.value,o={secret:n.value.loginVerifySecret,code:t};a(o).then((function(){A.success("验证成功")}))}))}}}var I=function(e){return h("data-v-6be252db"),e=e(),C(),e},q=x(" 安全设置 "),P=x(" 此处设置可保护您的站点安全 "),Z=x(" 启用后，会在门户显示后台登录入口，请根据自身情况选择是否启用 "),G=x("不启用登录验证"),H=x("启用图片验证码"),R=x("启用双因素认证"),W=x(" 图片验证码也可能会被识别，不能完全抵挡暴力破解。 "),J=x(" 双因素认证可完美保护登录认证，可使用任意支持 2FA 认证的软件，如 "),K=I((function(){return M("b",null,"Google 身份验证器",-1)})),N=x("、"),O=I((function(){return M("b",null,"Microsoft Authenticator",-1)})),Q=x(" 等软件. "),X=I((function(){return M("br",null,null,-1)})),Y={key:0,class:"w-full"},$=x("重新绑定"),ee=x("取消绑定"),ne=x("验证绑定"),te={key:1},oe=x(" 可扫描上方二维码或复制下方密钥到支持双因素认证的软件中添加。 "),ie=x("验证并绑定"),ue=x(" 请绑定双因素认证软件后，输入显示的验证码进行绑定 "),ce={__name:"index",setup:function(e){var l=D(),a=l.data,r=l.saveData,f=l.saveLoading,d=l.load2FAInfo,s=l.twoFAData,x=l.copyTwoFASecret,h=l.verifyCodeAndBind,C=l.rebind,M=l.cancelBind,w=l.validBind;return y((function(){var e;return null===(e=a.value)||void 0===e?void 0:e.loginVerifyMode}),(function(e,n){"off"!==e&&"image"!==e||!n||r(),"2fa"!==e||a.value.loginVerifySecret||d()})),y((function(){var e;return null===(e=a.value)||void 0===e?void 0:e.showLogin}),(function(e,n){e!==n&&void 0!==n&&r()})),function(e,l){var r=F,y=t,A=u,S=n,B=i,E=L,z=T,D=o,I=U;return g(a)?m((v(),b(D,{key:0,model:g(a)},{"form-title":p((function(){return[q]})),"form-sub-title":p((function(){return[P]})),default:p((function(){return[V(y,{label:"是否显示登录入口"},{tips:p((function(){return[Z]})),default:p((function(){return[V(r,{modelValue:g(a).showLogin,"onUpdate:modelValue":l[0]||(l[0]=function(e){return g(a).showLogin=e})},null,8,["modelValue"])]})),_:1}),V(y,{label:"登录验证方式"},j({default:p((function(){return[V(A,{modelValue:g(a).loginVerifyMode,"onUpdate:modelValue":l[1]||(l[1]=function(e){return g(a).loginVerifyMode=e}),label:"off"},{default:p((function(){return[G]})),_:1},8,["modelValue"]),V(A,{modelValue:g(a).loginVerifyMode,"onUpdate:modelValue":l[2]||(l[2]=function(e){return g(a).loginVerifyMode=e}),label:"image"},{default:p((function(){return[H]})),_:1},8,["modelValue"]),V(A,{modelValue:g(a).loginVerifyMode,"onUpdate:modelValue":l[3]||(l[3]=function(e){return g(a).loginVerifyMode=e}),label:"2fa"},{default:p((function(){return[R]})),_:1},8,["modelValue"])]})),_:2},["image"===g(a).loginVerifyMode?{name:"tips",fn:p((function(){return[W]}))}:void 0,"2fa"===g(a).loginVerifyMode?{name:"tips",fn:p((function(){return[J,K,N,O,Q,X]}))}:void 0]),1024),"2fa"===g(a).loginVerifyMode?(v(),b(y,{key:0,label:"双因素认证密钥"},j({default:p((function(){var e;return[g(a).loginVerifySecret?(v(),k("div",Y,[V(S,{size:"small",type:"primary",onClick:g(C)},{default:p((function(){return[$]})),_:1},8,["onClick"]),V(S,{size:"small",type:"primary",onClick:g(M)},{default:p((function(){return[ee]})),_:1},8,["onClick"]),V(S,{size:"small",type:"primary",onClick:g(w)},{default:p((function(){return[ne]})),_:1},8,["onClick"])])):(v(),k("div",te,[V(B,{onClick:g(d),src:null===(e=g(s))||void 0===e?void 0:e.qrcode},null,8,["onClick","src"]),V(z,{readonly:"",modelValue:g(s).secret,"onUpdate:modelValue":l[4]||(l[4]=function(e){return g(s).secret=e})},{append:p((function(){return[V(E,{class:"item",effect:"dark",content:"复制",placement:"bottom"},{default:p((function(){return[V(S,{onClick:g(x),icon:g(c)},null,8,["onClick","icon"])]})),_:1})]})),_:1},8,["modelValue"])]))]})),_:2},[g(a).loginVerifySecret?void 0:{name:"tips",fn:p((function(){return[oe]}))}]),1024)):_("",!0),"2fa"!==g(a).loginVerifyMode||g(a).loginVerifySecret?_("",!0):(v(),b(y,{key:1,label:"双因素认证验证码"},{tips:p((function(){return[ue]})),default:p((function(){return[V(z,{modelValue:g(s).code,"onUpdate:modelValue":l[5]||(l[5]=function(e){return g(s).code=e})},null,8,["modelValue"]),V(S,{onClick:g(h),type:"primary"},{default:p((function(){return[ie]})),_:1},8,["onClick"])]})),_:1}))]})),_:1},8,["model"])),[[I,g(f)]]):_("",!0)}}};"function"==typeof B&&B(ce);e("default",E(ce,[["__scopeId","data-v-6be252db"]]))}}}))}();
